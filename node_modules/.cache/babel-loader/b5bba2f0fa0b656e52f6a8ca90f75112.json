{"ast":null,"code":"import { c as __spreadArray } from '../chunks/bundle-BQi9-O76.js';\nimport React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-CFosTNce.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-DhKQeIfP.js';\nimport { u as useLocalization } from '../chunks/bundle-cQZ3UZoG.js';\nimport { f as format } from '../chunks/bundle-CAdqcqOm.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-BHK1eF5R.js';\nimport { i as isVoiceMessage } from '../chunks/bundle-DxTN4_0p.js';\nimport { g as getMessageFirstFileUrl, b as getMessageFirstFileName } from '../chunks/bundle-BqMHiKkl.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-BgwzpLeQ.js';\nimport '../chunks/bundle-DXRRGizV.js';\nimport '../chunks/bundle-Bwk5KPwK.js';\nimport '../chunks/bundle-bdDHjHH6.js';\nimport '../chunks/bundle-CA85nVxp.js';\nimport '../chunks/bundle-F5koPk19.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CNWAfTVw.js';\nfunction getCreatedAt(_a) {\n  var createdAt = _a.createdAt,\n    locale = _a.locale,\n    stringSet = _a.stringSet;\n  var optionalParam = {\n    locale: locale\n  };\n  if (!createdAt) {\n    return '';\n  }\n  if (isToday(createdAt)) {\n    return format(createdAt, 'p', optionalParam);\n  }\n  if (isYesterday(createdAt)) {\n    return (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MESSAGE_STATUS__YESTERDAY) || 'Yesterday';\n  }\n  if (isThisYear(createdAt)) {\n    return format(createdAt, 'MMM d', optionalParam);\n  }\n  return format(createdAt, 'yyyy/M/d', optionalParam);\n}\nfunction getIconOfFileType(message) {\n  var _a, _b, _c;\n  var fileMessageUrl = (_a = getMessageFirstFileUrl(message)) !== null && _a !== void 0 ? _a : '';\n  var fileExtension = (_c = (_b = fileMessageUrl.match(/\\.([^.]*?)(?=\\?|#|$)/)) === null || _b === void 0 ? void 0 : _b[1]) !== null && _c !== void 0 ? _c : '';\n  if (/(jpg|jpeg|png)$/i.test(fileExtension)) {\n    return IconTypes.PHOTO;\n  } else if (/mp4$/i.test(fileExtension) || isVoiceMessage(message)) {\n    return IconTypes.PLAY;\n  } else if (/mp3/i.test(fileExtension)) {\n    return IconTypes.FILE_AUDIO;\n  } else if (/gif/i.test(fileExtension)) {\n    return IconTypes.GIF;\n  } else {\n    return IconTypes.FILE_DOCUMENT;\n  }\n}\nfunction MessageSearchFileItem(props) {\n  var className = props.className,\n    message = props.message,\n    selected = props.selected,\n    onClick = props.onClick;\n  var createdAt = message.createdAt;\n  var url = getMessageFirstFileUrl(message);\n  var name = getMessageFirstFileName(message);\n  // @ts-ignore\n  var sender = message.sender || message._sender;\n  var profileUrl = sender.profileUrl,\n    nickname = sender.nickname;\n  var _a = useLocalization(),\n    stringSet = _a.stringSet,\n    dateLocale = _a.dateLocale;\n  var isVoiceMsg = isVoiceMessage(message);\n  var prettyFilename = isVoiceMsg ? stringSet.VOICE_MESSAGE : name || url;\n  return React__default.createElement(\"div\", {\n    className: __spreadArray(__spreadArray([], Array.isArray(className) ? className : [className], true), ['sendbird-message-search-file-item', selected ? 'sendbird-message-search-file-item--selected' : ''], false).join(' '),\n    onClick: function (e) {\n      e.stopPropagation();\n      onClick === null || onClick === void 0 ? void 0 : onClick(message);\n    }\n  }, React__default.createElement(\"div\", {\n    className: \"sendbird-message-search-file-item__left\"\n  }, React__default.createElement(Avatar, {\n    className: \"sendbird-message-search-file-item__left__sender-avatar\",\n    src: profileUrl,\n    alt: \"profile image\",\n    width: \"56px\",\n    height: \"56px\"\n  })), React__default.createElement(\"div\", {\n    className: \"sendbird-message-search-file-item__right\"\n  }, React__default.createElement(Label, {\n    className: \"sendbird-message-search-file-item__right__sender-name\",\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, nickname || stringSet.NO_NAME), React__default.createElement(\"div\", {\n    className: \"sendbird-message-search-file-item__right__content\"\n  }, !isVoiceMsg && React__default.createElement(\"div\", {\n    className: 'sendbird-message-search-file-item__right__content__type-icon'\n  }, React__default.createElement(Icon, {\n    type: getIconOfFileType(message),\n    fillColor: IconColors.PRIMARY,\n    width: \"18px\",\n    height: \"18px\"\n  })), React__default.createElement(Label, {\n    className: \"sendbird-message-search-file-item__right__content__url\",\n    type: LabelTypography.BODY_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, prettyFilename))), React__default.createElement(Label, {\n    className: \"sendbird-message-search-file-item__message-created-at\",\n    type: LabelTypography.CAPTION_3,\n    color: LabelColors.ONBACKGROUND_2\n  }, getCreatedAt({\n    createdAt: createdAt,\n    locale: dateLocale,\n    stringSet: stringSet\n  })), React__default.createElement(\"div\", {\n    className: \"sendbird-message-search-file-item__right-footer\"\n  }));\n}\nexport { MessageSearchFileItem as default };","map":{"version":3,"names":[],"sources":[],"sourcesContent":["import { c as __spreadArray } from '../chunks/bundle-BQi9-O76.js';\nimport React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-CFosTNce.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-DhKQeIfP.js';\nimport { u as useLocalization } from '../chunks/bundle-cQZ3UZoG.js';\nimport { f as format } from '../chunks/bundle-CAdqcqOm.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-BHK1eF5R.js';\nimport { i as isVoiceMessage } from '../chunks/bundle-DxTN4_0p.js';\nimport { g as getMessageFirstFileUrl, b as getMessageFirstFileName } from '../chunks/bundle-BqMHiKkl.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-BgwzpLeQ.js';\nimport '../chunks/bundle-DXRRGizV.js';\nimport '../chunks/bundle-Bwk5KPwK.js';\nimport '../chunks/bundle-bdDHjHH6.js';\nimport '../chunks/bundle-CA85nVxp.js';\nimport '../chunks/bundle-F5koPk19.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CNWAfTVw.js';\n\nfunction getCreatedAt(_a) {\n    var createdAt = _a.createdAt, locale = _a.locale, stringSet = _a.stringSet;\n    var optionalParam = { locale: locale };\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, 'p', optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MESSAGE_STATUS__YESTERDAY) || 'Yesterday';\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, 'MMM d', optionalParam);\n    }\n    return format(createdAt, 'yyyy/M/d', optionalParam);\n}\nfunction getIconOfFileType(message) {\n    var _a, _b, _c;\n    var fileMessageUrl = (_a = getMessageFirstFileUrl(message)) !== null && _a !== void 0 ? _a : '';\n    var fileExtension = (_c = (_b = (fileMessageUrl.match(/\\.([^.]*?)(?=\\?|#|$)/))) === null || _b === void 0 ? void 0 : _b[1]) !== null && _c !== void 0 ? _c : '';\n    if (/(jpg|jpeg|png)$/i.test(fileExtension)) {\n        return IconTypes.PHOTO;\n    }\n    else if (/mp4$/i.test(fileExtension) || isVoiceMessage(message)) {\n        return IconTypes.PLAY;\n    }\n    else if (/mp3/i.test(fileExtension)) {\n        return IconTypes.FILE_AUDIO;\n    }\n    else if (/gif/i.test(fileExtension)) {\n        return IconTypes.GIF;\n    }\n    else {\n        return IconTypes.FILE_DOCUMENT;\n    }\n}\n\nfunction MessageSearchFileItem(props) {\n    var className = props.className, message = props.message, selected = props.selected, onClick = props.onClick;\n    var createdAt = message.createdAt;\n    var url = getMessageFirstFileUrl(message);\n    var name = getMessageFirstFileName(message);\n    // @ts-ignore\n    var sender = message.sender || message._sender;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname;\n    var _a = useLocalization(), stringSet = _a.stringSet, dateLocale = _a.dateLocale;\n    var isVoiceMsg = isVoiceMessage(message);\n    var prettyFilename = isVoiceMsg ? stringSet.VOICE_MESSAGE : (name || url);\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-search-file-item',\n            selected ? 'sendbird-message-search-file-item--selected' : '',\n        ], false).join(' '), onClick: function (e) {\n            e.stopPropagation();\n            onClick === null || onClick === void 0 ? void 0 : onClick(message);\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__left\" },\n            React__default.createElement(Avatar, { className: \"sendbird-message-search-file-item__left__sender-avatar\", src: profileUrl, alt: \"profile image\", width: \"56px\", height: \"56px\" })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right\" },\n            React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__sender-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, nickname || stringSet.NO_NAME),\n            React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right__content\" },\n                !isVoiceMsg && (React__default.createElement(\"div\", { className: 'sendbird-message-search-file-item__right__content__type-icon' },\n                    React__default.createElement(Icon, { type: getIconOfFileType(message), fillColor: IconColors.PRIMARY, width: \"18px\", height: \"18px\" }))),\n                React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__content__url\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, prettyFilename))),\n        React__default.createElement(Label, { className: \"sendbird-message-search-file-item__message-created-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getCreatedAt({ createdAt: createdAt, locale: dateLocale, stringSet: stringSet })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right-footer\" })));\n}\n\nexport { MessageSearchFileItem as default };\n//# sourceMappingURL=MessageSearchFileItem.js.map\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module"}