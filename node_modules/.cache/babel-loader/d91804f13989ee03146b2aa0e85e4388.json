{"ast":null,"code":"import React__default from 'react';\nimport { createPortal } from 'react-dom';\nimport { A as Avatar } from './bundle-CFosTNce.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, c as LabelStringSet } from './bundle-DhKQeIfP.js';\nimport { f as isSupportedFileView, h as isVideo, j as isImage } from './bundle-DxTN4_0p.js';\nimport { a as MODAL_ROOT, M as Modal } from './bundle-CXdo2kR_.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nvar FileViewerView = function (_a) {\n  var message = _a.message,\n    onCancel = _a.onCancel,\n    deleteMessage = _a.deleteMessage,\n    onDownloadClick = _a.onDownloadClick;\n  var sender = message.sender,\n    type = message.type,\n    url = message.url,\n    _b = message.name,\n    name = _b === void 0 ? '' : _b,\n    threadInfo = message.threadInfo;\n  var profileUrl = sender.profileUrl,\n    nickname = sender.nickname,\n    userId = sender.userId;\n  var config = useSendbirdStateContext().config;\n  return createPortal(React__default.createElement(FileViewerComponent, {\n    profileUrl: profileUrl,\n    nickname: nickname,\n    type: type,\n    url: url,\n    name: name,\n    onCancel: onCancel,\n    onDelete: function () {\n      return deleteMessage(message).then(function () {\n        return onCancel();\n      });\n    },\n    isByMe: config.userId === userId,\n    disableDelete: (threadInfo === null || threadInfo === void 0 ? void 0 : threadInfo.replyCount) ? threadInfo.replyCount > 0 : false,\n    onDownloadClick: onDownloadClick\n  }), document.getElementById(MODAL_ROOT));\n};\nvar FileViewerComponent = function (_a) {\n  var\n    // sender\n    profileUrl = _a.profileUrl,\n    nickname = _a.nickname,\n    // file\n    name = _a.name,\n    type = _a.type,\n    url = _a.url,\n    // others\n    isByMe = _a.isByMe,\n    onCancel = _a.onCancel,\n    onDelete = _a.onDelete,\n    disableDelete = _a.disableDelete,\n    onDownloadClick = _a.onDownloadClick;\n  return React__default.createElement(Modal, {\n    onClose: onCancel\n  }, React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer\",\n    \"data-testid\": \"sendbird-fileviewer\"\n  }, React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header\"\n  }, React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__left\"\n  }, React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__left__avatar\"\n  }, React__default.createElement(Avatar, {\n    height: \"32px\",\n    width: \"32px\",\n    src: profileUrl\n  })), React__default.createElement(Label, {\n    className: \"sendbird-fileviewer__header__left__filename\",\n    type: LabelTypography.H_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, name), React__default.createElement(Label, {\n    className: \"sendbird-fileviewer__header__left__sender-name\",\n    type: LabelTypography.BODY_1,\n    color: LabelColors.ONBACKGROUND_2\n  }, nickname)), React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__right\"\n  }, isSupportedFileView(type) && React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__right__actions\"\n  }, React__default.createElement(\"a\", {\n    className: \"sendbird-fileviewer__header__right__actions__download\",\n    rel: \"noopener noreferrer\",\n    href: url,\n    target: \"_blank\",\n    onClick: onDownloadClick\n  }, React__default.createElement(Icon, {\n    type: IconTypes.DOWNLOAD,\n    fillColor: IconColors.ON_BACKGROUND_1,\n    height: \"24px\",\n    width: \"24px\"\n  })), onDelete && isByMe && React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__right__actions__delete\"\n  }, React__default.createElement(Icon, {\n    className: disableDelete ? 'disabled' : '',\n    type: IconTypes.DELETE,\n    fillColor: disableDelete ? IconColors.GRAY : IconColors.ON_BACKGROUND_1,\n    height: \"24px\",\n    width: \"24px\",\n    onClick: function () {\n      if (!disableDelete) {\n        onDelete();\n      }\n    }\n  }))), React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__header__right__actions__close\"\n  }, React__default.createElement(Icon, {\n    type: IconTypes.CLOSE,\n    fillColor: IconColors.ON_BACKGROUND_1,\n    height: \"24px\",\n    width: \"24px\",\n    onClick: onCancel\n  })))), React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__content\"\n  }, isVideo(type) && React__default.createElement(\"video\", {\n    controls: true,\n    className: \"sendbird-fileviewer__content__video\"\n  }, React__default.createElement(\"source\", {\n    src: url,\n    type: type\n  })), isImage(type) && React__default.createElement(\"img\", {\n    src: url,\n    alt: name,\n    className: \"sendbird-fileviewer__content__img\"\n  }), !isSupportedFileView(type) && React__default.createElement(\"div\", {\n    className: \"sendbird-fileviewer__content__unsupported\"\n  }, React__default.createElement(Label, {\n    type: LabelTypography.H_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, LabelStringSet.UI__FILE_VIEWER__UNSUPPORT)))));\n};\nexport { FileViewerView as F };","map":{"version":3,"names":[],"sources":[],"sourcesContent":["import React__default from 'react';\nimport { createPortal } from 'react-dom';\nimport { A as Avatar } from './bundle-CFosTNce.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, c as LabelStringSet } from './bundle-DhKQeIfP.js';\nimport { f as isSupportedFileView, h as isVideo, j as isImage } from './bundle-DxTN4_0p.js';\nimport { a as MODAL_ROOT, M as Modal } from './bundle-CXdo2kR_.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\n\nvar FileViewerView = function (_a) {\n    var message = _a.message, onCancel = _a.onCancel, deleteMessage = _a.deleteMessage, onDownloadClick = _a.onDownloadClick;\n    var sender = message.sender, type = message.type, url = message.url, _b = message.name, name = _b === void 0 ? '' : _b, threadInfo = message.threadInfo;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname, userId = sender.userId;\n    var config = useSendbirdStateContext().config;\n    return createPortal(React__default.createElement(FileViewerComponent, { profileUrl: profileUrl, nickname: nickname, type: type, url: url, name: name, onCancel: onCancel, onDelete: function () { return deleteMessage(message).then(function () { return onCancel(); }); }, isByMe: config.userId === userId, disableDelete: (threadInfo === null || threadInfo === void 0 ? void 0 : threadInfo.replyCount) ? threadInfo.replyCount > 0 : false, onDownloadClick: onDownloadClick }), document.getElementById(MODAL_ROOT));\n};\nvar FileViewerComponent = function (_a) {\n    var \n    // sender\n    profileUrl = _a.profileUrl, nickname = _a.nickname, \n    // file\n    name = _a.name, type = _a.type, url = _a.url, \n    // others\n    isByMe = _a.isByMe, onCancel = _a.onCancel, onDelete = _a.onDelete, disableDelete = _a.disableDelete, onDownloadClick = _a.onDownloadClick;\n    return (React__default.createElement(Modal, { onClose: onCancel },\n        React__default.createElement(\"div\", { className: \"sendbird-fileviewer\", \"data-testid\": \"sendbird-fileviewer\" },\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header\" },\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__avatar\" },\n                        React__default.createElement(Avatar, { height: \"32px\", width: \"32px\", src: profileUrl })),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__filename\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, name),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__sender-name\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, nickname)),\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right\" },\n                    isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions\" },\n                        React__default.createElement(\"a\", { className: \"sendbird-fileviewer__header__right__actions__download\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n                            React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\" })),\n                        onDelete && isByMe && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__delete\" },\n                            React__default.createElement(Icon, { className: disableDelete ? 'disabled' : '', type: IconTypes.DELETE, fillColor: disableDelete ? IconColors.GRAY : IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function () {\n                                    if (!disableDelete) {\n                                        onDelete();\n                                    }\n                                } }))))),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__close\" },\n                        React__default.createElement(Icon, { type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: onCancel })))),\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content\" },\n                isVideo(type) && (React__default.createElement(\"video\", { controls: true, className: \"sendbird-fileviewer__content__video\" },\n                    React__default.createElement(\"source\", { src: url, type: type }))),\n                isImage(type) && React__default.createElement(\"img\", { src: url, alt: name, className: \"sendbird-fileviewer__content__img\" }),\n                !isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content__unsupported\" },\n                    React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1 }, LabelStringSet.UI__FILE_VIEWER__UNSUPPORT)))))));\n};\n\nexport { FileViewerView as F };\n//# sourceMappingURL=bundle-CqpGyIDR.js.map\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module"}