{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { useEffect, useRef } from 'react';\nimport { GroupChannelEventSource, GroupChannelFilter } from '@sendbird/chat/groupChannel';\nimport { premiumFeatures } from '../../constants/premiumFeatures.js';\nimport { sbuConstants } from '../../constants/sbuConstants.js';\nimport { useAsyncEffect } from '../useAsyncEffect.js';\nimport { useGroupChannelHandler } from '../useGroupChannelHandler.js';\nimport { usePreservedCallback } from '../usePreservedCallback.js';\nimport { useGroupChannelListReducer } from './reducer.js';\nconst createGroupChannelListCollection = (sdk, collectionCreator) => {\n  const basicParams = {\n    includeEmpty: sbuConstants.collection.groupChannel.defaultIncludeEmpty,\n    limit: sbuConstants.collection.groupChannel.defaultLimit,\n    order: sbuConstants.collection.groupChannel.defaultOrder\n  };\n  const passedCollection = collectionCreator === null || collectionCreator === void 0 ? void 0 : collectionCreator(basicParams);\n  if (passedCollection) return passedCollection;\n  return sdk.groupChannel.createGroupChannelCollection(Object.assign(Object.assign({}, basicParams), {\n    filter: new GroupChannelFilter(basicParams)\n  }));\n};\nexport const useGroupChannelList = (sdk, options) => {\n  var _a, _b, _c;\n  const deliveryReceiptEnabled = Boolean((_b = (_a = sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.includes(premiumFeatures.delivery_receipt));\n  const collectionRef = useRef();\n  // update reference for event handler\n  const internalOptions = useRef(options);\n  internalOptions.current = options;\n  const {\n    initialized,\n    groupChannels,\n    refreshing,\n    appendChannels,\n    deleteChannels,\n    updateRefreshing,\n    updateInitialized\n  } = useGroupChannelListReducer();\n  const updateChannelsAndMarkAsDelivered = (shouldMarkAsDelivered, source, updatedChannels) => {\n    var _a, _b, _c, _d;\n    const channels = (_b = (_a = collectionRef.current) === null || _a === void 0 ? void 0 : _a.channels) !== null && _b !== void 0 ? _b : [];\n    appendChannels(channels, true);\n    if (shouldMarkAsDelivered && deliveryReceiptEnabled) {\n      switch (source) {\n        case GroupChannelEventSource.EVENT_MESSAGE_RECEIVED:\n        case GroupChannelEventSource.EVENT_MESSAGE_SENT:\n        case GroupChannelEventSource.SYNC_CHANNEL_BACKGROUND:\n        case GroupChannelEventSource.SYNC_CHANNEL_CHANGELOGS:\n        case undefined:\n          (_d = (_c = internalOptions.current) === null || _c === void 0 ? void 0 : _c.markAsDelivered) === null || _d === void 0 ? void 0 : _d.call(_c, updatedChannels !== null && updatedChannels !== void 0 ? updatedChannels : channels);\n          break;\n      }\n    }\n  };\n  const init = usePreservedCallback(uid => __awaiter(void 0, void 0, void 0, function* () {\n    var _d, _e, _f, _g;\n    if (collectionRef.current) (_d = collectionRef.current) === null || _d === void 0 ? void 0 : _d.dispose();\n    if (uid) {\n      collectionRef.current = createGroupChannelListCollection(sdk, options === null || options === void 0 ? void 0 : options.collectionCreator);\n      (_e = collectionRef.current) === null || _e === void 0 ? void 0 : _e.setGroupChannelCollectionHandler({\n        onChannelsAdded: (context, channels) => {\n          var _a, _b;\n          const groupChannels = channels.filter(channel => channel.isGroupChannel());\n          updateChannelsAndMarkAsDelivered(true, context.source, groupChannels);\n          (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsAdded) === null || _b === void 0 ? void 0 : _b.call(_a, groupChannels);\n        },\n        onChannelsUpdated: (context, channels) => {\n          var _a, _b;\n          const groupChannels = channels.filter(channel => channel.isGroupChannel());\n          updateChannelsAndMarkAsDelivered(true, context.source, groupChannels);\n          (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsUpdated) === null || _b === void 0 ? void 0 : _b.call(_a, groupChannels);\n        },\n        onChannelsDeleted: (_, channelUrls) => {\n          var _a, _b;\n          updateChannelsAndMarkAsDelivered(false);\n          (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsDeleted) === null || _b === void 0 ? void 0 : _b.call(_a, channelUrls);\n        }\n      });\n      if ((_f = collectionRef.current) === null || _f === void 0 ? void 0 : _f.hasMore) {\n        yield (_g = collectionRef.current) === null || _g === void 0 ? void 0 : _g.loadMore();\n        updateChannelsAndMarkAsDelivered(true);\n      }\n    }\n  }));\n  useEffect(() => {\n    return () => {\n      var _a;\n      if (collectionRef.current) (_a = collectionRef.current) === null || _a === void 0 ? void 0 : _a.dispose();\n    };\n  }, []);\n  useAsyncEffect(() => __awaiter(void 0, void 0, void 0, function* () {\n    updateInitialized(false);\n    if (sdk.currentUser) {\n      yield init(sdk.currentUser.userId);\n      updateInitialized(true);\n    }\n  }), [sdk, (_c = sdk.currentUser) === null || _c === void 0 ? void 0 : _c.userId]);\n  useGroupChannelHandler(sdk, {\n    onUserBanned: (channel, user) => {\n      var _a, _b, _c;\n      const isMe = user.userId === ((_a = sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n      if (isMe) {\n        deleteChannels([channel.url]);\n        (_c = (_b = internalOptions.current) === null || _b === void 0 ? void 0 : _b.onChannelsDeleted) === null || _c === void 0 ? void 0 : _c.call(_b, [channel.url]);\n      } else {\n        updateChannelsAndMarkAsDelivered(false);\n      }\n    }\n  });\n  const refresh = usePreservedCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n    if (sdk.currentUser) {\n      updateRefreshing(true);\n      yield init(sdk.currentUser.userId);\n      updateRefreshing(false);\n    }\n  }));\n  const loadMore = usePreservedCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n    var _h, _j;\n    if ((_h = collectionRef.current) === null || _h === void 0 ? void 0 : _h.hasMore) {\n      yield (_j = collectionRef.current) === null || _j === void 0 ? void 0 : _j.loadMore();\n      updateChannelsAndMarkAsDelivered(true);\n    }\n  }));\n  return {\n    /**\n     * Initializing state, only available on first render\n     * */\n    initialized,\n    /**\n     * Get group channels state\n     * */\n    groupChannels,\n    /**\n     * Refresh, clear and reload messages from latest\n     * @return {Promise<void>}\n     * */\n    refresh,\n    /**\n     * Refreshing state, status is changes when the refresh is called.\n     * */\n    refreshing,\n    /**\n     * Fetch more channels to state\n     * @return {Promise<void>}\n     * */\n    loadMore\n  };\n};","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","useEffect","useRef","GroupChannelEventSource","GroupChannelFilter","premiumFeatures","sbuConstants","useAsyncEffect","useGroupChannelHandler","usePreservedCallback","useGroupChannelListReducer","createGroupChannelListCollection","sdk","collectionCreator","basicParams","includeEmpty","collection","groupChannel","defaultIncludeEmpty","limit","defaultLimit","order","defaultOrder","passedCollection","createGroupChannelCollection","Object","assign","filter","useGroupChannelList","options","_a","_b","_c","deliveryReceiptEnabled","Boolean","appInfo","premiumFeatureList","includes","delivery_receipt","collectionRef","internalOptions","current","initialized","groupChannels","refreshing","appendChannels","deleteChannels","updateRefreshing","updateInitialized","updateChannelsAndMarkAsDelivered","shouldMarkAsDelivered","source","updatedChannels","_d","channels","EVENT_MESSAGE_RECEIVED","EVENT_MESSAGE_SENT","SYNC_CHANNEL_BACKGROUND","SYNC_CHANNEL_CHANGELOGS","undefined","markAsDelivered","call","init","uid","_e","_f","_g","dispose","setGroupChannelCollectionHandler","onChannelsAdded","context","channel","isGroupChannel","onChannelsUpdated","onChannelsDeleted","_","channelUrls","hasMore","loadMore","currentUser","userId","onUserBanned","user","isMe","url","refresh","_h","_j"],"sources":["D:/ebgbot/node_modules/@sendbird/uikit-react/node_modules/@sendbird/uikit-tools/dist/esm/hooks/useGroupChannelList/index.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { useEffect, useRef } from 'react';\nimport { GroupChannelEventSource, GroupChannelFilter } from '@sendbird/chat/groupChannel';\nimport { premiumFeatures } from '../../constants/premiumFeatures.js';\nimport { sbuConstants } from '../../constants/sbuConstants.js';\nimport { useAsyncEffect } from '../useAsyncEffect.js';\nimport { useGroupChannelHandler } from '../useGroupChannelHandler.js';\nimport { usePreservedCallback } from '../usePreservedCallback.js';\nimport { useGroupChannelListReducer } from './reducer.js';\nconst createGroupChannelListCollection = (sdk, collectionCreator) => {\n    const basicParams = {\n        includeEmpty: sbuConstants.collection.groupChannel.defaultIncludeEmpty,\n        limit: sbuConstants.collection.groupChannel.defaultLimit,\n        order: sbuConstants.collection.groupChannel.defaultOrder,\n    };\n    const passedCollection = collectionCreator === null || collectionCreator === void 0 ? void 0 : collectionCreator(basicParams);\n    if (passedCollection)\n        return passedCollection;\n    return sdk.groupChannel.createGroupChannelCollection(Object.assign(Object.assign({}, basicParams), { filter: new GroupChannelFilter(basicParams) }));\n};\nexport const useGroupChannelList = (sdk, options) => {\n    var _a, _b, _c;\n    const deliveryReceiptEnabled = Boolean((_b = (_a = sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.includes(premiumFeatures.delivery_receipt));\n    const collectionRef = useRef();\n    // update reference for event handler\n    const internalOptions = useRef(options);\n    internalOptions.current = options;\n    const { initialized, groupChannels, refreshing, appendChannels, deleteChannels, updateRefreshing, updateInitialized, } = useGroupChannelListReducer();\n    const updateChannelsAndMarkAsDelivered = (shouldMarkAsDelivered, source, updatedChannels) => {\n        var _a, _b, _c, _d;\n        const channels = (_b = (_a = collectionRef.current) === null || _a === void 0 ? void 0 : _a.channels) !== null && _b !== void 0 ? _b : [];\n        appendChannels(channels, true);\n        if (shouldMarkAsDelivered && deliveryReceiptEnabled) {\n            switch (source) {\n                case GroupChannelEventSource.EVENT_MESSAGE_RECEIVED:\n                case GroupChannelEventSource.EVENT_MESSAGE_SENT:\n                case GroupChannelEventSource.SYNC_CHANNEL_BACKGROUND:\n                case GroupChannelEventSource.SYNC_CHANNEL_CHANGELOGS:\n                case undefined:\n                    (_d = (_c = internalOptions.current) === null || _c === void 0 ? void 0 : _c.markAsDelivered) === null || _d === void 0 ? void 0 : _d.call(_c, updatedChannels !== null && updatedChannels !== void 0 ? updatedChannels : channels);\n                    break;\n            }\n        }\n    };\n    const init = usePreservedCallback((uid) => __awaiter(void 0, void 0, void 0, function* () {\n        var _d, _e, _f, _g;\n        if (collectionRef.current)\n            (_d = collectionRef.current) === null || _d === void 0 ? void 0 : _d.dispose();\n        if (uid) {\n            collectionRef.current = createGroupChannelListCollection(sdk, options === null || options === void 0 ? void 0 : options.collectionCreator);\n            (_e = collectionRef.current) === null || _e === void 0 ? void 0 : _e.setGroupChannelCollectionHandler({\n                onChannelsAdded: (context, channels) => {\n                    var _a, _b;\n                    const groupChannels = channels.filter((channel) => channel.isGroupChannel());\n                    updateChannelsAndMarkAsDelivered(true, context.source, groupChannels);\n                    (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsAdded) === null || _b === void 0 ? void 0 : _b.call(_a, groupChannels);\n                },\n                onChannelsUpdated: (context, channels) => {\n                    var _a, _b;\n                    const groupChannels = channels.filter((channel) => channel.isGroupChannel());\n                    updateChannelsAndMarkAsDelivered(true, context.source, groupChannels);\n                    (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsUpdated) === null || _b === void 0 ? void 0 : _b.call(_a, groupChannels);\n                },\n                onChannelsDeleted: (_, channelUrls) => {\n                    var _a, _b;\n                    updateChannelsAndMarkAsDelivered(false);\n                    (_b = (_a = internalOptions.current) === null || _a === void 0 ? void 0 : _a.onChannelsDeleted) === null || _b === void 0 ? void 0 : _b.call(_a, channelUrls);\n                },\n            });\n            if ((_f = collectionRef.current) === null || _f === void 0 ? void 0 : _f.hasMore) {\n                yield ((_g = collectionRef.current) === null || _g === void 0 ? void 0 : _g.loadMore());\n                updateChannelsAndMarkAsDelivered(true);\n            }\n        }\n    }));\n    useEffect(() => {\n        return () => {\n            var _a;\n            if (collectionRef.current)\n                (_a = collectionRef.current) === null || _a === void 0 ? void 0 : _a.dispose();\n        };\n    }, []);\n    useAsyncEffect(() => __awaiter(void 0, void 0, void 0, function* () {\n        updateInitialized(false);\n        if (sdk.currentUser) {\n            yield init(sdk.currentUser.userId);\n            updateInitialized(true);\n        }\n    }), [sdk, (_c = sdk.currentUser) === null || _c === void 0 ? void 0 : _c.userId]);\n    useGroupChannelHandler(sdk, {\n        onUserBanned: (channel, user) => {\n            var _a, _b, _c;\n            const isMe = user.userId === ((_a = sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n            if (isMe) {\n                deleteChannels([channel.url]);\n                (_c = (_b = internalOptions.current) === null || _b === void 0 ? void 0 : _b.onChannelsDeleted) === null || _c === void 0 ? void 0 : _c.call(_b, [channel.url]);\n            }\n            else {\n                updateChannelsAndMarkAsDelivered(false);\n            }\n        },\n    });\n    const refresh = usePreservedCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (sdk.currentUser) {\n            updateRefreshing(true);\n            yield init(sdk.currentUser.userId);\n            updateRefreshing(false);\n        }\n    }));\n    const loadMore = usePreservedCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        var _h, _j;\n        if ((_h = collectionRef.current) === null || _h === void 0 ? void 0 : _h.hasMore) {\n            yield ((_j = collectionRef.current) === null || _j === void 0 ? void 0 : _j.loadMore());\n            updateChannelsAndMarkAsDelivered(true);\n        }\n    }));\n    return {\n        /**\n         * Initializing state, only available on first render\n         * */\n        initialized,\n        /**\n         * Get group channels state\n         * */\n        groupChannels,\n        /**\n         * Refresh, clear and reload messages from latest\n         * @return {Promise<void>}\n         * */\n        refresh,\n        /**\n         * Refreshing state, status is changes when the refresh is called.\n         * */\n        refreshing,\n        /**\n         * Fetch more channels to state\n         * @return {Promise<void>}\n         * */\n        loadMore,\n    };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}