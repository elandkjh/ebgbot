{"ast":null,"code":"import { i as isSameDay } from '../../chunks/bundle-F5koPk19.js';\nimport { compareMessagesForGrouping } from './compareMessagesForGrouping.js';\nimport '../../chunks/bundle-CA85nVxp.js';\nimport '../../chunks/bundle-CAdqcqOm.js';\nimport '../../chunks/bundle-bdDHjHH6.js';\nimport '../../chunks/bundle-DxTN4_0p.js';\nimport '../../chunks/bundle-BQi9-O76.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CNWAfTVw.js';\n\n/**\n * exported, should be backward compatible\n */\nvar getMessagePartsInfo = function (_a) {\n  var _b = _a.allMessages,\n    allMessages = _b === void 0 ? [] : _b,\n    _c = _a.isMessageGroupingEnabled,\n    isMessageGroupingEnabled = _c === void 0 ? true : _c,\n    _d = _a.currentIndex,\n    currentIndex = _d === void 0 ? 0 : _d,\n    currentMessage = _a.currentMessage,\n    _e = _a.currentChannel,\n    currentChannel = _e === void 0 ? null : _e,\n    _f = _a.replyType,\n    replyType = _f === void 0 ? '' : _f;\n  var previousMessage = allMessages[currentIndex - 1];\n  var nextMessage = allMessages[currentIndex + 1];\n  var _g = isMessageGroupingEnabled ? compareMessagesForGrouping(previousMessage, currentMessage, nextMessage, currentChannel, replyType) : [false, false],\n    chainTop = _g[0],\n    chainBottom = _g[1];\n  var previousMessageCreatedAt = previousMessage === null || previousMessage === void 0 ? void 0 : previousMessage.createdAt;\n  var currentCreatedAt = currentMessage.createdAt;\n  // NOTE: for pending/failed messages\n  var isLocalMessage = 'sendingStatus' in currentMessage && currentMessage.sendingStatus !== 'succeeded';\n  // https://stackoverflow.com/a/41855608\n  var hasSeparator = isLocalMessage ? false : !(previousMessageCreatedAt && isSameDay(currentCreatedAt, previousMessageCreatedAt));\n  return {\n    chainTop: chainTop,\n    chainBottom: chainBottom,\n    hasSeparator: hasSeparator\n  };\n};\nexport { getMessagePartsInfo };","map":{"version":3,"names":[],"sources":[],"sourcesContent":["import { i as isSameDay } from '../../chunks/bundle-F5koPk19.js';\nimport { compareMessagesForGrouping } from './compareMessagesForGrouping.js';\nimport '../../chunks/bundle-CA85nVxp.js';\nimport '../../chunks/bundle-CAdqcqOm.js';\nimport '../../chunks/bundle-bdDHjHH6.js';\nimport '../../chunks/bundle-DxTN4_0p.js';\nimport '../../chunks/bundle-BQi9-O76.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CNWAfTVw.js';\n\n/**\n * exported, should be backward compatible\n */\nvar getMessagePartsInfo = function (_a) {\n    var _b = _a.allMessages, allMessages = _b === void 0 ? [] : _b, _c = _a.isMessageGroupingEnabled, isMessageGroupingEnabled = _c === void 0 ? true : _c, _d = _a.currentIndex, currentIndex = _d === void 0 ? 0 : _d, currentMessage = _a.currentMessage, _e = _a.currentChannel, currentChannel = _e === void 0 ? null : _e, _f = _a.replyType, replyType = _f === void 0 ? '' : _f;\n    var previousMessage = allMessages[currentIndex - 1];\n    var nextMessage = allMessages[currentIndex + 1];\n    var _g = isMessageGroupingEnabled\n        ? compareMessagesForGrouping(previousMessage, currentMessage, nextMessage, currentChannel, replyType)\n        : [false, false], chainTop = _g[0], chainBottom = _g[1];\n    var previousMessageCreatedAt = previousMessage === null || previousMessage === void 0 ? void 0 : previousMessage.createdAt;\n    var currentCreatedAt = currentMessage.createdAt;\n    // NOTE: for pending/failed messages\n    var isLocalMessage = 'sendingStatus' in currentMessage && (currentMessage.sendingStatus !== 'succeeded');\n    // https://stackoverflow.com/a/41855608\n    var hasSeparator = isLocalMessage ? false : !(previousMessageCreatedAt && (isSameDay(currentCreatedAt, previousMessageCreatedAt)));\n    return {\n        chainTop: chainTop,\n        chainBottom: chainBottom,\n        hasSeparator: hasSeparator,\n    };\n};\n\nexport { getMessagePartsInfo };\n//# sourceMappingURL=getMessagePartsInfo.js.map\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module"}