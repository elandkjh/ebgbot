{"ast":null,"code":"import { _ as __assign, a as __awaiter, b as __generator } from '../../chunks/bundle-BQi9-O76.js';\nimport React__default from 'react';\nimport { F as FileViewerView } from '../../chunks/bundle-CqpGyIDR.js';\nimport { useGroupChannelContext } from '../context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport 'react-dom';\nimport '../../chunks/bundle-CFosTNce.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-BgwzpLeQ.js';\nimport '../../chunks/bundle-DXRRGizV.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-DhKQeIfP.js';\nimport '../../chunks/bundle-Bwk5KPwK.js';\nimport '../../chunks/bundle-DxTN4_0p.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CNWAfTVw.js';\nimport '../../chunks/bundle-CA85nVxp.js';\nimport '../../chunks/bundle-CXdo2kR_.js';\nimport '../../chunks/bundle-cQZ3UZoG.js';\nimport '../../chunks/bundle-bdDHjHH6.js';\nimport '../../chunks/bundle-f-SpnOx2.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-etuaqevl.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DDeWOERD.js';\nimport '../../chunks/bundle-DCMGp6rH.js';\nimport '../../chunks/bundle-CwKZj-B6.js';\nimport '../../ui/SortByRow.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BrTJ5Zbd.js';\nimport '../../chunks/bundle-y29vL7zu.js';\nimport '../../chunks/bundle-fHeMHhND.js';\nimport '../../chunks/bundle-C3ktHDOc.js';\nimport '../../chunks/bundle-Df65wuUZ.js';\nimport '../../chunks/bundle-b6TpX_JP.js';\nimport '../../chunks/bundle-BNDaXsLn.js';\nvar FileViewer = function (props) {\n  var _a = useGroupChannelContext(),\n    deleteMessage = _a.deleteMessage,\n    onBeforeDownloadFileMessage = _a.onBeforeDownloadFileMessage;\n  var config = useSendbirdStateContext().config;\n  var logger = config.logger;\n  return React__default.createElement(FileViewerView, __assign({}, props, {\n    deleteMessage: deleteMessage,\n    onDownloadClick: function (e) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var allowDownload, err_1;\n        var _a, _b;\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              if (!onBeforeDownloadFileMessage) return [2 /*return*/];\n              _c.label = 1;\n            case 1:\n              _c.trys.push([1, 3,, 4]);\n              return [4 /*yield*/, onBeforeDownloadFileMessage({\n                message: props.message\n              })];\n            case 2:\n              allowDownload = _c.sent();\n              if (!allowDownload) {\n                e.preventDefault();\n                (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileViewer: Not allowed to download.');\n              }\n              return [3 /*break*/, 4];\n            case 3:\n              err_1 = _c.sent();\n              (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileViewer: Error occurred while determining download continuation:', err_1);\n              return [3 /*break*/, 4];\n            case 4:\n              return [2 /*return*/];\n          }\n        });\n      });\n    }\n  }));\n};\nexport { FileViewer, FileViewer as default };","map":{"version":3,"names":[],"sources":[],"sourcesContent":["import { _ as __assign, a as __awaiter, b as __generator } from '../../chunks/bundle-BQi9-O76.js';\nimport React__default from 'react';\nimport { F as FileViewerView } from '../../chunks/bundle-CqpGyIDR.js';\nimport { useGroupChannelContext } from '../context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport 'react-dom';\nimport '../../chunks/bundle-CFosTNce.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-BgwzpLeQ.js';\nimport '../../chunks/bundle-DXRRGizV.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-DhKQeIfP.js';\nimport '../../chunks/bundle-Bwk5KPwK.js';\nimport '../../chunks/bundle-DxTN4_0p.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CNWAfTVw.js';\nimport '../../chunks/bundle-CA85nVxp.js';\nimport '../../chunks/bundle-CXdo2kR_.js';\nimport '../../chunks/bundle-cQZ3UZoG.js';\nimport '../../chunks/bundle-bdDHjHH6.js';\nimport '../../chunks/bundle-f-SpnOx2.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-etuaqevl.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DDeWOERD.js';\nimport '../../chunks/bundle-DCMGp6rH.js';\nimport '../../chunks/bundle-CwKZj-B6.js';\nimport '../../ui/SortByRow.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BrTJ5Zbd.js';\nimport '../../chunks/bundle-y29vL7zu.js';\nimport '../../chunks/bundle-fHeMHhND.js';\nimport '../../chunks/bundle-C3ktHDOc.js';\nimport '../../chunks/bundle-Df65wuUZ.js';\nimport '../../chunks/bundle-b6TpX_JP.js';\nimport '../../chunks/bundle-BNDaXsLn.js';\n\nvar FileViewer = function (props) {\n    var _a = useGroupChannelContext(), deleteMessage = _a.deleteMessage, onBeforeDownloadFileMessage = _a.onBeforeDownloadFileMessage;\n    var config = useSendbirdStateContext().config;\n    var logger = config.logger;\n    return (React__default.createElement(FileViewerView, __assign({}, props, { deleteMessage: deleteMessage, onDownloadClick: function (e) { return __awaiter(void 0, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!onBeforeDownloadFileMessage)\n                            return [2 /*return*/];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: props.message })];\n                    case 2:\n                        allowDownload = _c.sent();\n                        if (!allowDownload) {\n                            e.preventDefault();\n                            (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileViewer: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileViewer: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); } })));\n};\n\nexport { FileViewer, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module"}