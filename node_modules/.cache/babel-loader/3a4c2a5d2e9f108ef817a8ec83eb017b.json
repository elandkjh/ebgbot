{"ast":null,"code":"import { _ as __assign, c as __spreadArray } from './bundle-BQi9-O76.js';\nimport { GroupChannelListOrder } from '@sendbird/chat/groupChannel';\nimport { OutgoingMessageStates, getOutgoingMessageState } from '../utils/message/getOutgoingMessageState.js';\nimport { a as isSafari } from './bundle-CNWAfTVw.js';\nimport { r as requiredArgs, t as toDate } from './bundle-CA85nVxp.js';\nvar n = Symbol(\"@ts-pattern/matcher\"),\n  t = \"@ts-pattern/anonymous-select-key\",\n  e = function (n) {\n    return Boolean(n && \"object\" == typeof n);\n  },\n  r = function (t) {\n    return t && !!t[n];\n  },\n  u = function t(u, i, c) {\n    if (e(u)) {\n      if (r(u)) {\n        var o = u[n]().match(i),\n          a = o.matched,\n          f = o.selections;\n        return a && f && Object.keys(f).forEach(function (n) {\n          return c(n, f[n]);\n        }), a;\n      }\n      if (!e(i)) return !1;\n      if (Array.isArray(u)) return !!Array.isArray(i) && u.length === i.length && u.every(function (n, e) {\n        return t(n, i[e], c);\n      });\n      if (u instanceof Map) return i instanceof Map && Array.from(u.keys()).every(function (n) {\n        return t(u.get(n), i.get(n), c);\n      });\n      if (u instanceof Set) {\n        if (!(i instanceof Set)) return !1;\n        if (0 === u.size) return 0 === i.size;\n        if (1 === u.size) {\n          var s = Array.from(u.values())[0];\n          return r(s) ? Array.from(i.values()).every(function (n) {\n            return t(s, n, c);\n          }) : i.has(s);\n        }\n        return Array.from(u.values()).every(function (n) {\n          return i.has(n);\n        });\n      }\n      return Object.keys(u).every(function (e) {\n        var o,\n          a = u[e];\n        return (e in i || r(o = a) && \"optional\" === o[n]().matcherType) && t(a, i[e], c);\n      });\n    }\n    return Object.is(i, u);\n  },\n  i = function t(u) {\n    var i, o, a;\n    return e(u) ? r(u) ? null != (i = null == (o = (a = u[n]()).getSelectionKeys) ? void 0 : o.call(a)) ? i : [] : Array.isArray(u) ? c(u, t) : c(Object.values(u), t) : [];\n  },\n  c = function (n, t) {\n    return n.reduce(function (n, e) {\n      return n.concat(t(e));\n    }, []);\n  };\nfunction o(t) {\n  var e;\n  return (e = {})[n] = function () {\n    return {\n      match: function (n) {\n        var e = {},\n          r = function (n, t) {\n            e[n] = t;\n          };\n        return void 0 === n ? (i(t).forEach(function (n) {\n          return r(n, void 0);\n        }), {\n          matched: !0,\n          selections: e\n        }) : {\n          matched: u(t, n, r),\n          selections: e\n        };\n      },\n      getSelectionKeys: function () {\n        return i(t);\n      },\n      matcherType: \"optional\"\n    };\n  }, e;\n}\nfunction a(t) {\n  var e;\n  return (e = {})[n] = function () {\n    return {\n      match: function (n) {\n        if (!Array.isArray(n)) return {\n          matched: !1\n        };\n        var e = {};\n        if (0 === n.length) return i(t).forEach(function (n) {\n          e[n] = [];\n        }), {\n          matched: !0,\n          selections: e\n        };\n        var r = function (n, t) {\n          e[n] = (e[n] || []).concat([t]);\n        };\n        return {\n          matched: n.every(function (n) {\n            return u(t, n, r);\n          }),\n          selections: e\n        };\n      },\n      getSelectionKeys: function () {\n        return i(t);\n      }\n    };\n  }, e;\n}\nfunction f() {\n  var t,\n    e = [].slice.call(arguments);\n  return (t = {})[n] = function () {\n    return {\n      match: function (n) {\n        var t = {},\n          r = function (n, e) {\n            t[n] = e;\n          };\n        return {\n          matched: e.every(function (t) {\n            return u(t, n, r);\n          }),\n          selections: t\n        };\n      },\n      getSelectionKeys: function () {\n        return c(e, i);\n      },\n      matcherType: \"and\"\n    };\n  }, t;\n}\nfunction s() {\n  var t,\n    e = [].slice.call(arguments);\n  return (t = {})[n] = function () {\n    return {\n      match: function (n) {\n        var t = {},\n          r = function (n, e) {\n            t[n] = e;\n          };\n        return c(e, i).forEach(function (n) {\n          return r(n, void 0);\n        }), {\n          matched: e.some(function (t) {\n            return u(t, n, r);\n          }),\n          selections: t\n        };\n      },\n      getSelectionKeys: function () {\n        return c(e, i);\n      },\n      matcherType: \"or\"\n    };\n  }, t;\n}\nfunction l(t) {\n  var e;\n  return (e = {})[n] = function () {\n    return {\n      match: function (n) {\n        return {\n          matched: !u(t, n, function () {})\n        };\n      },\n      getSelectionKeys: function () {\n        return [];\n      },\n      matcherType: \"not\"\n    };\n  }, e;\n}\nfunction h(t) {\n  var e;\n  return (e = {})[n] = function () {\n    return {\n      match: function (n) {\n        return {\n          matched: Boolean(t(n))\n        };\n      }\n    };\n  }, e;\n}\nfunction v() {\n  var e,\n    r = [].slice.call(arguments),\n    c = \"string\" == typeof r[0] ? r[0] : void 0,\n    o = 2 === r.length ? r[1] : \"string\" == typeof r[0] ? void 0 : r[0];\n  return (e = {})[n] = function () {\n    return {\n      match: function (n) {\n        var e,\n          r = ((e = {})[null != c ? c : t] = n, e);\n        return {\n          matched: void 0 === o || u(o, n, function (n, t) {\n            r[n] = t;\n          }),\n          selections: r\n        };\n      },\n      getSelectionKeys: function () {\n        return [null != c ? c : t].concat(void 0 === o ? [] : i(o));\n      }\n    };\n  }, e;\n}\nvar y = h(function (n) {\n    return !0;\n  }),\n  m = y,\n  d = h(function (n) {\n    return \"string\" == typeof n;\n  }),\n  g = h(function (n) {\n    return \"number\" == typeof n;\n  }),\n  p = h(function (n) {\n    return \"boolean\" == typeof n;\n  }),\n  b = h(function (n) {\n    return \"bigint\" == typeof n;\n  }),\n  w = h(function (n) {\n    return \"symbol\" == typeof n;\n  }),\n  A = h(function (n) {\n    return null == n;\n  }),\n  S = {\n    __proto__: null,\n    optional: o,\n    array: a,\n    intersection: f,\n    union: s,\n    not: l,\n    when: h,\n    select: v,\n    any: y,\n    _: m,\n    string: d,\n    number: g,\n    boolean: p,\n    bigint: b,\n    symbol: w,\n    nullish: A,\n    instanceOf: function (n) {\n      return h(function (n) {\n        return function (t) {\n          return t instanceof n;\n        };\n      }(n));\n    },\n    typed: function () {\n      return {\n        array: a,\n        optional: o,\n        intersection: f,\n        union: s,\n        not: l,\n        select: v,\n        when: h\n      };\n    }\n  };\nfunction K(n) {\n  return new O(n, []);\n}\nvar O = /*#__PURE__*/function () {\n  function n(n, t) {\n    this.value = void 0, this.cases = void 0, this.value = n, this.cases = t;\n  }\n  var e = n.prototype;\n  return e.with = function () {\n    var e = [].slice.call(arguments),\n      r = e[e.length - 1],\n      i = [e[0]],\n      c = [];\n    return 3 === e.length && \"function\" == typeof e[1] ? (i.push(e[0]), c.push(e[1])) : e.length > 2 && i.push.apply(i, e.slice(1, e.length - 1)), new n(this.value, this.cases.concat([{\n      match: function (n) {\n        var e = {},\n          r = Boolean(i.some(function (t) {\n            return u(t, n, function (n, t) {\n              e[n] = t;\n            });\n          }) && c.every(function (t) {\n            return t(n);\n          }));\n        return {\n          matched: r,\n          value: r && Object.keys(e).length ? t in e ? e[t] : e : n\n        };\n      },\n      handler: r\n    }]));\n  }, e.when = function (t, e) {\n    return new n(this.value, this.cases.concat([{\n      match: function (n) {\n        return {\n          matched: Boolean(t(n)),\n          value: n\n        };\n      },\n      handler: e\n    }]));\n  }, e.otherwise = function (t) {\n    return new n(this.value, this.cases.concat([{\n      match: function (n) {\n        return {\n          matched: !0,\n          value: n\n        };\n      },\n      handler: t\n    }])).run();\n  }, e.exhaustive = function () {\n    return this.run();\n  }, e.run = function () {\n    for (var n = this.value, t = void 0, e = 0; e < this.cases.length; e++) {\n      var r = this.cases[e],\n        u = r.match(this.value);\n      if (u.matched) {\n        n = u.value, t = r.handler;\n        break;\n      }\n    }\n    if (!t) {\n      var i;\n      try {\n        i = JSON.stringify(this.value);\n      } catch (n) {\n        i = this.value;\n      }\n      throw new Error(\"Pattern matching error: no pattern matches value \" + i);\n    }\n    return t(n, this.value);\n  }, n;\n}();\nvar TypingIndicatorType;\n(function (TypingIndicatorType) {\n  TypingIndicatorType[\"Text\"] = \"text\";\n  TypingIndicatorType[\"Bubble\"] = \"bubble\";\n})(TypingIndicatorType || (TypingIndicatorType = {}));\nvar MessageContentMiddleContainerType;\n(function (MessageContentMiddleContainerType) {\n  MessageContentMiddleContainerType[\"DEFAULT\"] = \"default\";\n  MessageContentMiddleContainerType[\"WIDE\"] = \"wide\";\n})(MessageContentMiddleContainerType || (MessageContentMiddleContainerType = {}));\n\n/**\n * @name startOfSecond\n * @category Second Helpers\n * @summary Return the start of a second for the given date.\n *\n * @description\n * Return the start of a second for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a second\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a second for 1 December 2014 22:15:45.400:\n * const result = startOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.000\n */\nfunction startOfSecond(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setMilliseconds(0);\n  return date;\n}\n\n/**\n * @name isSameSecond\n * @category Second Helpers\n * @summary Are the given dates in the same second (and hour and day)?\n *\n * @description\n * Are the given dates in the same second (and hour and day)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same second (and hour and day)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 2014 06:30:15.000 and 4 September 2014 06:30.15.500 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 30, 15),\n *   new Date(2014, 8, 4, 6, 30, 15, 500)\n * )\n * //=> true\n *\n * @example\n * // Are 4 September 2014 06:00:15.000 and 4 September 2014 06:01.15.000 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 0, 15),\n *   new Date(2014, 8, 4, 6, 1, 15)\n * )\n * //=> false\n *\n * @example\n * // Are 4 September 2014 06:00:15.000 and 5 September 2014 06:00.15.000 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 0, 15),\n *   new Date(2014, 8, 5, 6, 0, 15)\n * )\n * //=> false\n */\nfunction isSameSecond(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfSecond = startOfSecond(dirtyDateLeft);\n  var dateRightStartOfSecond = startOfSecond(dirtyDateRight);\n  return dateLeftStartOfSecond.getTime() === dateRightStartOfSecond.getTime();\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nvar SUPPORTED_MIMES = {\n  IMAGE: ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/svg+xml', 'image/webp' // not supported in IE\n  ],\n  VIDEO: ['video/mpeg', 'video/ogg', 'video/webm', 'video/mp4'\n  // 'video/quicktime', // NOTE: Do not support ThumbnailMessage for the .mov video\n  ],\n  AUDIO: ['audio/aac', 'audio/midi', 'audio/x-midi', 'audio/mpeg', 'audio/ogg', 'audio/opus', 'audio/wav', 'audio/webm', 'audio/3gpp', 'audio/3gpp2', 'audio/mp3'],\n  DOCUMENT: ['text/plain', 'text/css', 'text/csv', 'text/html', 'text/calendar', 'text/javascript', 'text/xml', 'video/quicktime' // NOTE: Assume this video is a normal file, not video\n  ],\n  APPLICATION: ['application/x-abiword', 'application/x-freearc', 'application/vnd.amazon.ebook', 'application/octet-stream', 'application/x-bzip', 'application/x-bzip2', 'application/x-cdf', 'application/x-csh', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.ms-fontobject', 'application/epub+zip', 'application/gzip', 'application/java-archive', 'application/json', 'application/ld+json', 'application/vnd.apple.installer+xml', 'application/vnd.oasis.opendocument.presentation', 'application/vnd.oasis.opendocument.spreadsheet', 'application/vnd.oasis.opendocument.text', 'application/ogg', 'application/pdf', 'application/x-httpd-php', 'application/vnd.ms-powerpoint', 'application/vnd.openxmlformats-officedocument.presentationml.presentation', 'application/vnd.rar', 'application/rtf', 'application/x-sh', 'application/x-tar', 'application/vnd.visio', 'application/xhtml+xml', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'application/xml', 'application/vnd.mozilla.xul+xml', 'application/zip', 'application/x-7z-compressed']\n};\nvar getMimeTypesUIKitAccepts = function (acceptableMimeTypes) {\n  if (Array.isArray(acceptableMimeTypes) && acceptableMimeTypes.length > 0) {\n    return acceptableMimeTypes.reduce(function (prev, curr) {\n      switch (curr) {\n        case 'image':\n          {\n            prev.push.apply(prev, SUPPORTED_MIMES.IMAGE);\n            break;\n          }\n        case 'video':\n          {\n            prev.push.apply(prev, SUPPORTED_MIMES.VIDEO);\n            break;\n          }\n        case 'audio':\n          {\n            prev.push.apply(prev, SUPPORTED_MIMES.AUDIO);\n            break;\n          }\n        default:\n          {\n            prev.push(curr);\n            break;\n          }\n      }\n      return prev;\n    }, []).join();\n  }\n  return Object.values(SUPPORTED_MIMES).reduce(function (prev, curr) {\n    return prev.concat(curr);\n  }, []).join();\n};\nvar UIKitMessageTypes = {\n  ADMIN: 'ADMIN',\n  TEXT: 'TEXT',\n  FILE: 'FILE',\n  MULTIPLE_FILES: 'MULTIPLE_FILES',\n  THUMBNAIL: 'THUMBNAIL',\n  OG: 'OG',\n  UNKNOWN: 'UNKNOWN'\n};\nvar UIKitFileTypes = {\n  IMAGE: 'IMAGE',\n  AUDIO: 'AUDIO',\n  VIDEO: 'VIDEO',\n  GIF: 'GIF',\n  VOICE: 'VOICE',\n  OTHERS: 'OTHERS'\n};\nvar isTextuallyNull = function (text) {\n  if (text === '' || text === null) {\n    return true;\n  }\n  return false;\n};\nvar isMOVType = function (type) {\n  return type === 'video/quicktime';\n};\n/**\n * @link: https://sendbird.atlassian.net/browse/SBISSUE-16031?focusedCommentId=270601\n * We limitedly support .mov file type for ThumbnailMessage only in Safari browser.\n * */\nvar isSupportedVideoFileTypeInSafari = function (type) {\n  return isSafari(navigator.userAgent) && isMOVType(type);\n};\nvar isImage = function (type) {\n  return SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0;\n};\nvar isVideo = function (type) {\n  return SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0 || isSupportedVideoFileTypeInSafari(type);\n};\nvar isGif = function (type) {\n  return type === 'image/gif';\n};\nvar isSupportedFileView = function (type) {\n  return isImage(type) || isVideo(type);\n};\nvar isAudio = function (type) {\n  return SUPPORTED_MIMES.AUDIO.indexOf(type) >= 0;\n};\nvar getUIKitFileTypes = function () {\n  return __assign({}, UIKitFileTypes);\n};\nvar getUIKitFileType = function (type) {\n  if (isGif(type)) return UIKitFileTypes.GIF;\n  if (isImage(type)) return UIKitFileTypes.IMAGE;\n  if (isVideo(type)) return UIKitFileTypes.VIDEO;\n  if (isAudio(type)) return UIKitFileTypes.AUDIO;\n  return UIKitFileTypes.OTHERS;\n};\nvar isSentMessage = function (message) {\n  return message.sendingStatus === 'succeeded';\n};\nvar isReadMessage = function (channel, message) {\n  return getOutgoingMessageState(channel, message) === OutgoingMessageStates.READ;\n};\n// TODO: Remove channel from the params, it seems unnecessary\nvar isFailedMessage = function (message) {\n  return (message === null || message === void 0 ? void 0 : message.sendingStatus) === 'failed';\n};\nvar isPendingMessage = function (message) {\n  return (message === null || message === void 0 ? void 0 : message.sendingStatus) === 'pending';\n};\nvar isSentStatus = function (state) {\n  return state === OutgoingMessageStates.SENT || state === OutgoingMessageStates.DELIVERED || state === OutgoingMessageStates.READ;\n};\nvar isAdminMessage = function (message) {\n  return message && (message['isAdminMessage'] && typeof message.isAdminMessage === 'function' ? message.isAdminMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === 'admin');\n};\nvar isUserMessage = function (message) {\n  return message && (message['isUserMessage'] && typeof message.isUserMessage === 'function' ? message.isUserMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === 'user');\n};\nvar isFileMessage = function (message) {\n  return !!message && (message['isFileMessage'] && typeof message.isFileMessage === 'function' ? message.isFileMessage() : (message === null || message === void 0 ? void 0 : message.messageType) === 'file');\n};\nvar isMultipleFilesMessage = function (message) {\n  return message && (message['isMultipleFilesMessage'] && typeof message.isMultipleFilesMessage === 'function' ? message.isMultipleFilesMessage() : message.messageType === 'file' && Object.prototype.hasOwnProperty.call(message, 'fileInfoList'));\n};\nvar isThreadMessage = function (message) {\n  return !!message.parentMessageId && !!message.parentMessage;\n};\nvar isTemplateMessage = function (message) {\n  var _a;\n  return !!(message && ((_a = message.extendedMessagePayload) === null || _a === void 0 ? void 0 : _a['template']));\n};\nvar UI_CONTAINER_TYPES;\n(function (UI_CONTAINER_TYPES) {\n  UI_CONTAINER_TYPES[\"DEFAULT\"] = \"\";\n  UI_CONTAINER_TYPES[\"WIDE\"] = \"ui_container_type__wide\";\n  UI_CONTAINER_TYPES[\"DEFAULT_CAROUSEL\"] = \"ui_container_type__default-carousel\";\n})(UI_CONTAINER_TYPES || (UI_CONTAINER_TYPES = {}));\nvar getMessageContentMiddleClassNameByContainerType = function (_a) {\n  var _b, _c;\n  var message = _a.message,\n    isMobile = _a.isMobile;\n  /**\n   * FULL: template message only.\n   * WIDE: all message types.\n   */\n  var containerType = (_c = (_b = message.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b['ui']) === null || _c === void 0 ? void 0 : _c['container_type'];\n  if (!isMobile) return UI_CONTAINER_TYPES.DEFAULT;\n  if (containerType === MessageContentMiddleContainerType.WIDE) {\n    return UI_CONTAINER_TYPES.WIDE;\n  }\n  return UI_CONTAINER_TYPES.DEFAULT;\n};\nvar isOGMessage = function (message) {\n  if (!message || !isUserMessage(message)) return false;\n  return !!message.ogMetaData && !!(message.ogMetaData.url || message.ogMetaData.title || message.ogMetaData.description || message.ogMetaData.defaultImage);\n};\nvar isTextMessage = function (message) {\n  return isUserMessage(message);\n};\nvar isThumbnailMessage = function (message) {\n  if (!message || !isFileMessage(message)) return false;\n  return isSupportedFileView(message.type);\n};\nvar isImageMessage = function (message) {\n  if (!message || !isFileMessage(message)) return false;\n  return isThumbnailMessage(message) && isImage(message.type);\n};\nvar isVideoMessage = function (message) {\n  if (!message || !isFileMessage(message)) return false;\n  return isThumbnailMessage(message) && isVideo(message.type);\n};\nvar isGifMessage = function (message) {\n  if (!message || !isFileMessage(message)) return false;\n  return isThumbnailMessage(message) && isGif(message.type);\n};\nvar isAudioMessage = function (message) {\n  if (!message || !isFileMessage(message)) return false;\n  return isAudio(message.type);\n};\nvar isImageFileInfo = function (fileInfo) {\n  if (!fileInfo) return false;\n  return !!fileInfo.mimeType && (isImage(fileInfo.mimeType) || isGif(fileInfo.mimeType));\n};\nvar isAudioMessageMimeType = function (type) {\n  return /^audio\\//.test(type);\n};\nvar isVoiceMessageMimeType = function (type) {\n  return /^voice\\//.test(type);\n};\nvar isVoiceMessage = function (message) {\n  var _a, _b, _c, _d;\n  if (!message || !isFileMessage(message) || !message.type) return false;\n  // ex) audio/m4a OR audio/m4a;sbu_type=voice\n  var _e = message.type.split(';'),\n    mimeType = _e[0],\n    typeParameter = _e[1];\n  if (!isAudioMessageMimeType(mimeType)) {\n    return false;\n  }\n  if (typeParameter) {\n    var _f = typeParameter.split('='),\n      key = _f[0],\n      value = _f[1];\n    return key === 'sbu_type' && value === 'voice';\n  }\n  // ex) message.metaArrays = [{ key: 'KEY_INTERNAL_MESSAGE_TYPE', value: ['voice/m4a'] }]\n  return isVoiceMessageMimeType((_d = (_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.metaArrays) === null || _a === void 0 ? void 0 : _a.find(function (metaArray) {\n    return metaArray.key === 'KEY_INTERNAL_MESSAGE_TYPE';\n  })) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c[0]) !== null && _d !== void 0 ? _d : '');\n};\nvar isEditedMessage = function (message) {\n  return isUserMessage(message) && (message === null || message === void 0 ? void 0 : message.updatedAt) > 0;\n};\nvar getUIKitMessageTypes = function () {\n  return __assign({}, UIKitMessageTypes);\n};\n/**\n * Do not use this for MultipleFilesMessage. Use isMultipleFilesMessage() instead.\n */\nvar getUIKitMessageType = function (message) {\n  if (isAdminMessage(message)) return UIKitMessageTypes.ADMIN;\n  if (isUserMessage(message)) {\n    return isOGMessage(message) ? UIKitMessageTypes.OG : UIKitMessageTypes.TEXT;\n  }\n  // This is only a safeguard to not return UNKNOWN for MFM.\n  if (isMultipleFilesMessage(message)) {\n    return UIKitMessageTypes.MULTIPLE_FILES;\n  }\n  if (isFileMessage(message)) {\n    if (isThumbnailMessage(message)) {\n      return UIKitMessageTypes.THUMBNAIL;\n    }\n    if (isVoiceMessage(message)) {\n      return UIKitFileTypes.VOICE;\n    }\n    return UIKitMessageTypes.FILE;\n  }\n  return UIKitMessageTypes.UNKNOWN;\n};\nvar reducer = function (accumulator, currentValue) {\n  if (Array.isArray(currentValue)) {\n    return __spreadArray(__spreadArray([], accumulator, true), currentValue, true);\n  } else {\n    accumulator.push(currentValue);\n    return accumulator;\n  }\n};\nvar getClassName = function (classNames) {\n  return Array.isArray(classNames) ? classNames.reduce(reducer, []).join(' ') : classNames;\n};\nvar startsWithAtAndEndsWithBraces = function (str) {\n  var regex = /^\\{@.*\\}$/;\n  return regex.test(str);\n};\nvar removeAtAndBraces = function (str) {\n  return str.replace(/^\\{@|}$/g, '');\n};\nvar isReactedBy = function (userId, reaction) {\n  return reaction.userIds.some(function (reactorUserId) {\n    return reactorUserId === userId;\n  });\n};\nvar getEmojiTooltipString = function (reaction, userId, memberNicknamesMap, stringSet) {\n  var you = '';\n  if (isReactedBy(userId, reaction)) {\n    you = reaction.userIds.length === 1 ? stringSet.TOOLTIP__YOU : stringSet.TOOLTIP__AND_YOU;\n  }\n  return \"\".concat(reaction.userIds.filter(function (reactorUserId) {\n    return reactorUserId !== userId;\n  }).map(function (reactorUserId) {\n    return memberNicknamesMap.get(reactorUserId) || stringSet.TOOLTIP__UNKNOWN_USER;\n  }).join(', ')).concat(you);\n};\nfunction getSuggestedReplies(message) {\n  var _a;\n  if ((message === null || message === void 0 ? void 0 : message.extendedMessagePayload) && Array.isArray((_a = message === null || message === void 0 ? void 0 : message.extendedMessagePayload) === null || _a === void 0 ? void 0 : _a.suggested_replies)) {\n    return message.extendedMessagePayload.suggested_replies;\n  } else {\n    return [];\n  }\n}\nvar URL_REG = /^((http|https):\\/\\/)?([a-z\\d-]+\\.)+[a-z]{2,}(\\:[0-9]{1,5})?(\\/[-a-zA-Z\\d%_.~+&=]*)*(\\?[;&a-zA-Z\\d%_.~+=-]*)?(#\\S*)?$/;\n/** @deprecated\n * URL detection in a message text will be handled in utils/tokens/tokenize.ts\n */\nvar isUrl = function (text) {\n  return URL_REG.test(text);\n};\nvar truncateString = function (fullStr, strLen) {\n  if (!strLen) strLen = 40;\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  var separator = '...';\n  var sepLen = separator.length;\n  var charsToShow = strLen - sepLen;\n  var frontChars = Math.ceil(charsToShow / 2);\n  var backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\nvar copyToClipboard = function (text) {\n  // @ts-ignore: Unreachable code error\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    // @ts-ignore: Unreachable code error\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    var textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\nvar getEmojiListAll = function (emojiContainer) {\n  var _a;\n  return (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories) === null || _a === void 0 ? void 0 : _a.map(function (emojiCategory) {\n    return emojiCategory.emojis;\n  }).reduce(function (prevArr, currArr) {\n    return prevArr.concat(currArr);\n  }, []);\n};\nvar getEmojiMapAll = function (emojiContainer) {\n  var _a;\n  var emojiMap = new Map();\n  (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories) === null || _a === void 0 ? void 0 : _a.forEach(function (category) {\n    var _a;\n    (_a = category === null || category === void 0 ? void 0 : category.emojis) === null || _a === void 0 ? void 0 : _a.forEach(function (emoji) {\n      if (emoji && emoji.key) {\n        emojiMap.set(emoji.key, emoji);\n      }\n    });\n  });\n  return emojiMap;\n};\nvar findEmojiUrl = function (targetKey) {\n  return function (_a) {\n    var key = _a.key;\n    return key === targetKey;\n  };\n};\nvar getEmojiUrl = function (emojiContainer, emojiKey) {\n  var _a, _b;\n  var isFindingKey = findEmojiUrl(emojiKey !== null && emojiKey !== void 0 ? emojiKey : '');\n  return ((_b = (_a = emojiContainer === null || emojiContainer === void 0 ? void 0 : emojiContainer.emojiCategories.find(function (category) {\n    return category.emojis.some(isFindingKey);\n  })) === null || _a === void 0 ? void 0 : _a.emojis.find(isFindingKey)) === null || _b === void 0 ? void 0 : _b.url) || '';\n};\nvar getUserName = function (user) {\n  return (user === null || user === void 0 ? void 0 : user.friendName) || (user === null || user === void 0 ? void 0 : user.nickname) || (user === null || user === void 0 ? void 0 : user.userId);\n};\nvar getSenderName = function (message) {\n  return (message === null || message === void 0 ? void 0 : message.sender) && getUserName(message === null || message === void 0 ? void 0 : message.sender);\n};\nvar hasSameMembers = function (a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a == null || b == null) {\n    return false;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n  var sortedA = __spreadArray([], a, true).sort();\n  var sortedB = __spreadArray([], b, true).sort();\n  for (var i = 0; i < sortedA.length; ++i) {\n    if (sortedA[i] !== sortedB[i]) {\n      return false;\n    }\n  }\n  return true;\n};\nvar isFriend = function (user) {\n  if (!user) return false;\n  return !!(user.friendDiscoveryKey || user.friendName);\n};\nvar filterMessageListParams = function (params, message) {\n  var _a, _b, _c, _d;\n  var _e = params.customTypesFilter,\n    customTypesFilter = _e === void 0 ? [] : _e;\n  // @ts-ignore\n  if ((params === null || params === void 0 ? void 0 : params.messageTypeFilter) && params.messageTypeFilter !== message.messageType) {\n    return false;\n  }\n  if ((customTypesFilter === null || customTypesFilter === void 0 ? void 0 : customTypesFilter.length) > 0) {\n    var customTypes = customTypesFilter.filter(function (item) {\n      return item !== '*';\n    });\n    // Because Chat SDK inserts '*' when customTypes is empty\n    if (customTypes.length > 0 && !customTypes.includes(message.customType)) {\n      return false;\n    }\n  }\n  if ((params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) && ((_a = params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n    if (((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message)) || ((_c = message === null || message === void 0 ? void 0 : message.isFileMessage) === null || _c === void 0 ? void 0 : _c.call(message))) {\n      var messageSender = message.sender || message['_sender'];\n      if (!((_d = params === null || params === void 0 ? void 0 : params.senderUserIdsFilter) === null || _d === void 0 ? void 0 : _d.includes(messageSender === null || messageSender === void 0 ? void 0 : messageSender.userId))) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n  if (!(params === null || params === void 0 ? void 0 : params.includeParentMessageInfo) && ((message === null || message === void 0 ? void 0 : message.parentMessageId) || (message === null || message === void 0 ? void 0 : message.parentMessage))) {\n    return false;\n  }\n  return true;\n};\nvar filterChannelListParams = function (params, channel, currentUserId) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  var includeEmpty = params.includeEmpty,\n    includeFrozen = params.includeFrozen,\n    searchFilter = params.searchFilter,\n    userIdsFilter = params.userIdsFilter,\n    customTypesFilter = params.customTypesFilter,\n    channelUrlsFilter = params.channelUrlsFilter,\n    customTypeStartsWithFilter = params.customTypeStartsWithFilter,\n    channelNameContainsFilter = params.channelNameContainsFilter,\n    nicknameContainsFilter = params.nicknameContainsFilter,\n    myMemberStateFilter = params.myMemberStateFilter,\n    hiddenChannelFilter = params.hiddenChannelFilter,\n    unreadChannelFilter = params.unreadChannelFilter,\n    publicChannelFilter = params.publicChannelFilter,\n    superChannelFilter = params.superChannelFilter,\n    _h = params.metadataKey,\n    metadataKey = _h === void 0 ? '' : _h,\n    _j = params.metadataValues,\n    metadataValues = _j === void 0 ? ['a', 'b'] : _j,\n    metadataValueStartsWith = params.metadataValueStartsWith;\n  if (!includeEmpty && (channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null) {\n    return false;\n  }\n  if ((searchFilter === null || searchFilter === void 0 ? void 0 : searchFilter.query) && ((_b = (_a = searchFilter === null || searchFilter === void 0 ? void 0 : searchFilter.fields) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0) {\n    var searchQuery_1 = searchFilter.query;\n    var searchFields = searchFilter.fields;\n    if (searchQuery_1 && searchFields && searchFields.length > 0) {\n      if (!searchFields.some(function (searchField) {\n        var _a, _b;\n        switch (searchField) {\n          case 'channel_name':\n            {\n              return (_a = channel === null || channel === void 0 ? void 0 : channel.name) === null || _a === void 0 ? void 0 : _a.toLowerCase().includes(searchQuery_1.toLowerCase());\n            }\n          case 'member_nickname':\n            {\n              return (_b = channel === null || channel === void 0 ? void 0 : channel.members) === null || _b === void 0 ? void 0 : _b.some(function (member) {\n                return member.nickname.toLowerCase().includes(searchQuery_1.toLowerCase());\n              });\n            }\n          default:\n            {\n              return true;\n            }\n        }\n      })) {\n        return false;\n      }\n    }\n  }\n  if (((_c = userIdsFilter === null || userIdsFilter === void 0 ? void 0 : userIdsFilter.userIds) === null || _c === void 0 ? void 0 : _c.length) > 0) {\n    var includeMode = userIdsFilter.includeMode,\n      queryType = userIdsFilter.queryType;\n    var userIds = userIdsFilter.userIds;\n    var memberIds_1 = (_d = channel === null || channel === void 0 ? void 0 : channel.members) === null || _d === void 0 ? void 0 : _d.map(function (member) {\n      return member.userId;\n    });\n    if (!includeMode) {\n      // exact match\n      if (!userIds.includes(currentUserId)) {\n        userIds.push(currentUserId); // add the caller's userId if not added already.\n      }\n      if (((_e = channel === null || channel === void 0 ? void 0 : channel.members) === null || _e === void 0 ? void 0 : _e.length) > userIds.length) {\n        return false; // userIds may contain one or more non-member(s).\n      }\n      if (!hasSameMembers(userIds, memberIds_1)) {\n        return false;\n      }\n    } else if (userIds.length > 0) {\n      // inclusive\n      switch (queryType) {\n        case 'AND':\n          {\n            if (userIds.some(function (userId) {\n              return !memberIds_1.includes(userId);\n            })) {\n              return false;\n            }\n            break;\n          }\n        case 'OR':\n          {\n            if (userIds.every(function (userId) {\n              return !memberIds_1.includes(userId);\n            })) {\n              return false;\n            }\n            break;\n          }\n      }\n    }\n  }\n  if (includeEmpty === false && (channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null) {\n    return false;\n  }\n  if (includeFrozen === false && (channel === null || channel === void 0 ? void 0 : channel.isFrozen) === true) {\n    return false;\n  }\n  if (customTypesFilter && !customTypesFilter.includes(channel === null || channel === void 0 ? void 0 : channel.customType)) {\n    return false;\n  }\n  if (customTypeStartsWithFilter && !new RegExp(\"^\".concat(customTypeStartsWithFilter)).test(channel === null || channel === void 0 ? void 0 : channel.customType)) {\n    return false;\n  }\n  if (channelNameContainsFilter && !((_f = channel === null || channel === void 0 ? void 0 : channel.name) === null || _f === void 0 ? void 0 : _f.toLowerCase().includes(channelNameContainsFilter.toLowerCase()))) {\n    return false;\n  }\n  if (nicknameContainsFilter) {\n    var lowerCasedSubString_1 = nicknameContainsFilter.toLowerCase();\n    if ((_g = channel === null || channel === void 0 ? void 0 : channel.members) === null || _g === void 0 ? void 0 : _g.every(function (member) {\n      return !member.nickname.toLowerCase().includes(lowerCasedSubString_1);\n    })) {\n      return false;\n    }\n  }\n  if (channelUrlsFilter && !channelUrlsFilter.includes(channel === null || channel === void 0 ? void 0 : channel.url)) {\n    return false;\n  }\n  if (myMemberStateFilter) {\n    switch (myMemberStateFilter) {\n      case 'joined_only':\n        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== 'joined') {\n          return false;\n        }\n        break;\n      case 'invited_only':\n        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== 'invited') {\n          return false;\n        }\n        break;\n      case 'invited_by_friend':\n        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== 'invited' || !isFriend(channel === null || channel === void 0 ? void 0 : channel.inviter)) {\n          return false;\n        }\n        break;\n      case 'invited_by_non_friend':\n        if ((channel === null || channel === void 0 ? void 0 : channel.myMemberState) !== 'invited' || isFriend(channel === null || channel === void 0 ? void 0 : channel.inviter)) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (hiddenChannelFilter) {\n    switch (hiddenChannelFilter) {\n      case 'unhidden_only':\n        if ((channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== 'unhidden') {\n          return false;\n        }\n        break;\n      case 'hidden_only':\n        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden)) {\n          return false;\n        }\n        break;\n      case 'hidden_allow_auto_unhide':\n        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== 'hidden_allow_auto_unhide') {\n          return false;\n        }\n        break;\n      case 'hidden_prevent_auto_unhide':\n        if (!(channel === null || channel === void 0 ? void 0 : channel.isHidden) || (channel === null || channel === void 0 ? void 0 : channel.hiddenState) !== 'hidden_prevent_auto_unhide') {\n          return false;\n        }\n        break;\n    }\n  }\n  if (unreadChannelFilter) {\n    switch (unreadChannelFilter) {\n      case 'unread_message':\n        if ((channel === null || channel === void 0 ? void 0 : channel.unreadMessageCount) === 0) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (publicChannelFilter) {\n    switch (publicChannelFilter) {\n      case 'public':\n        if (!(channel === null || channel === void 0 ? void 0 : channel.isPublic)) {\n          return false;\n        }\n        break;\n      case 'private':\n        if (channel === null || channel === void 0 ? void 0 : channel.isPublic) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (superChannelFilter) {\n    switch (superChannelFilter) {\n      case 'super':\n        if (!(channel === null || channel === void 0 ? void 0 : channel.isSuper)) {\n          return false;\n        }\n        break;\n      case 'nonsuper':\n        if (channel === null || channel === void 0 ? void 0 : channel.isSuper) {\n          return false;\n        }\n        break;\n    }\n  }\n  var _k = channel.cachedMetaData,\n    cachedMetaData = _k === void 0 ? {} : _k;\n  if (metadataKey && (metadataValues || metadataValueStartsWith)) {\n    var metadataValue_1 = cachedMetaData[metadataKey];\n    if (!metadataValue_1) {\n      return false;\n    }\n    if (metadataValues && !metadataValues.every(function (value) {\n      return metadataValue_1.includes(value);\n    })) {\n      return false;\n    }\n    if (metadataValueStartsWith && !metadataValue_1.startsWith(metadataValueStartsWith)) {\n      return false;\n    }\n  }\n  return true;\n};\nvar sortChannelList = function (channels, order) {\n  var compareFunc = K(order).with(GroupChannelListOrder.CHANNEL_NAME_ALPHABETICAL, function () {\n    return function (a, b) {\n      return a.name.localeCompare(b.name);\n    };\n  }).with(GroupChannelListOrder.CHRONOLOGICAL, function () {\n    return function (a, b) {\n      return b.createdAt - a.createdAt;\n    };\n  }).otherwise(function () {\n    return function (a, b) {\n      var _a, _b, _c, _d;\n      return ((_b = (_a = b.lastMessage) === null || _a === void 0 ? void 0 : _a.createdAt) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER) - ((_d = (_c = a.lastMessage) === null || _c === void 0 ? void 0 : _c.createdAt) !== null && _d !== void 0 ? _d : Number.MIN_SAFE_INTEGER);\n    };\n  });\n  return channels.sort(compareFunc);\n};\n/**\n * Upserts given channel to the channel list and then returns the sorted channel list.\n */\nvar getChannelsWithUpsertedChannel = function (_channels, channel, order) {\n  var channels = __spreadArray([], _channels, true);\n  var findingIndex = channels.findIndex(function (ch) {\n    return ch.url === channel.url;\n  });\n  if (findingIndex !== -1) {\n    channels[findingIndex] = channel;\n  } else {\n    channels.push(channel);\n  }\n  return sortChannelList(channels, order !== null && order !== void 0 ? order : GroupChannelListOrder.LATEST_LAST_MESSAGE);\n};\nvar StringObjType;\n(function (StringObjType) {\n  StringObjType[\"normal\"] = \"normal\";\n  StringObjType[\"mention\"] = \"mention\";\n  StringObjType[\"url\"] = \"url\";\n})(StringObjType || (StringObjType = {}));\n/**\n * @deprecated\n * use modules/message/utils/tokenize instead\n */\nvar convertWordToStringObj = function (word, _users, _template) {\n  var users = _users || [];\n  var template = _template || '@'; // Use global variable\n  var resultArray = [];\n  var regex = RegExp(\"\".concat(template, \"{(\").concat(users.map(function (user) {\n    return user === null || user === void 0 ? void 0 : user.userId;\n  }).join('|'), \")}\"), 'g');\n  var excutionResult;\n  var lastIndex = 0;\n  var _loop_1 = function () {\n    var template_1 = excutionResult[0],\n      userId = excutionResult[1];\n    var endIndex = regex.lastIndex;\n    var startIndex = endIndex - template_1.length;\n    // Normal text\n    var normalText = word.slice(lastIndex, startIndex);\n    resultArray.push({\n      type: isUrl(normalText) ? StringObjType.url : StringObjType.normal,\n      value: normalText\n    });\n    // Mention template\n    var mentionedUser = users.find(function (user) {\n      return (user === null || user === void 0 ? void 0 : user.userId) === userId;\n    });\n    if (!mentionedUser) {\n      resultArray.push({\n        type: StringObjType.normal,\n        value: template_1 // because template is the origin text\n      });\n    } else {\n      resultArray.push({\n        type: StringObjType.mention,\n        value: (mentionedUser === null || mentionedUser === void 0 ? void 0 : mentionedUser.nickname) || '(No name)',\n        userId: userId\n      });\n    }\n    lastIndex = endIndex;\n  };\n  while ((excutionResult = regex.exec(word)) !== null) {\n    _loop_1();\n  }\n  if (lastIndex < word.length) {\n    // Normal text\n    var normalText = word.slice(lastIndex);\n    resultArray.push({\n      type: isUrl(normalText) ? StringObjType.url : StringObjType.normal,\n      value: normalText\n    });\n  }\n  return resultArray;\n};\nvar arrayEqual = function (array1, array2) {\n  if (Array.isArray(array1) && Array.isArray(array2) && array1.length === array2.length) {\n    for (var i = 0; i < array1.length; i++) {\n      if (array1[i] !== array2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n};\nvar isSendableMessage = function (message) {\n  return Boolean(message) && 'sender' in message;\n};\n/**\n * If the channel is just created, the channel's createdAt and currentUser's invitedAt are the same.\n */\nvar isChannelJustCreated = function (channel) {\n  return isSameSecond(channel.createdAt, channel.invitedAt) && !channel.lastMessage;\n};\nexport { filterChannelListParams as $, copyToClipboard as A, convertWordToStringObj as B, isTemplateMessage as C, isAudio as D, isVoiceMessageMimeType as E, isSentStatus as F, arrayEqual as G, getMimeTypesUIKitAccepts as H, isImageMessage as I, isImageFileInfo as J, K, isAudioMessage as L, isOGMessage as M, isTextMessage as N, getMessageContentMiddleClassNameByContainerType as O, isAdminMessage as P, UI_CONTAINER_TYPES as Q, isThreadMessage as R, StringObjType as S, TypingIndicatorType as T, UIKitMessageTypes as U, getEmojiUrl as V, isReactedBy as W, getEmojiTooltipString as X, getEmojiMapAll as Y, startsWithAtAndEndsWithBraces as Z, removeAtAndBraces as _, isReadMessage as a, getChannelsWithUpsertedChannel as a0, S as a1, isChannelJustCreated as a2, filterMessageListParams as a3, isTextuallyNull as a4, isFileMessage as b, isMultipleFilesMessage as c, isEditedMessage as d, getSenderName as e, isSupportedFileView as f, getSuggestedReplies as g, isVideo as h, isVoiceMessage as i, isImage as j, isSendableMessage as k, isUserMessage as l, getUIKitMessageType as m, getUIKitMessageTypes as n, getUIKitFileType as o, isThumbnailMessage as p, isSentMessage as q, isVideoMessage as r, isGifMessage as s, truncateString as t, isPendingMessage as u, isFailedMessage as v, getClassName as w, getEmojiListAll as x, getUIKitFileTypes as y, isGif as z };","map":{"version":3,"names":["n","Symbol","t","e","Boolean","r","u","i","c","o","match","a","matched","f","selections","Object","keys","forEach","Array","isArray","length","every","Map","from","get","Set","size","s","values","has","matcherType","is","getSelectionKeys","call","reduce","concat","slice","arguments","some","l","h","v","y","m","d","g","p","b","w","A","S","__proto__","optional","array","intersection","union","not","when","select","any","_","string","number","boolean","bigint","symbol","nullish","instanceOf","typed","K","O","value","cases","prototype","with","push","apply","handler","otherwise","run","exhaustive","JSON","stringify","Error","startOfSecond","dirtyDate","requiredArgs","date","toDate","setMilliseconds","isSameSecond","dirtyDateLeft","dirtyDateRight","dateLeftStartOfSecond","dateRightStartOfSecond","getTime"],"sources":["../../node_modules/ts-pattern/dist/index.js","../../node_modules/date-fns/esm/startOfSecond/index.js","../../node_modules/date-fns/esm/isSameSecond/index.js"],"sourcesContent":["var n=Symbol(\"@ts-pattern/matcher\"),t=\"@ts-pattern/anonymous-select-key\",e=function(n){return Boolean(n&&\"object\"==typeof n)},r=function(t){return t&&!!t[n]},u=function t(u,i,c){if(e(u)){if(r(u)){var o=u[n]().match(i),a=o.matched,f=o.selections;return a&&f&&Object.keys(f).forEach(function(n){return c(n,f[n])}),a}if(!e(i))return!1;if(Array.isArray(u))return!!Array.isArray(i)&&u.length===i.length&&u.every(function(n,e){return t(n,i[e],c)});if(u instanceof Map)return i instanceof Map&&Array.from(u.keys()).every(function(n){return t(u.get(n),i.get(n),c)});if(u instanceof Set){if(!(i instanceof Set))return!1;if(0===u.size)return 0===i.size;if(1===u.size){var s=Array.from(u.values())[0];return r(s)?Array.from(i.values()).every(function(n){return t(s,n,c)}):i.has(s)}return Array.from(u.values()).every(function(n){return i.has(n)})}return Object.keys(u).every(function(e){var o,a=u[e];return(e in i||r(o=a)&&\"optional\"===o[n]().matcherType)&&t(a,i[e],c)})}return Object.is(i,u)},i=function t(u){var i,o,a;return e(u)?r(u)?null!=(i=null==(o=(a=u[n]()).getSelectionKeys)?void 0:o.call(a))?i:[]:Array.isArray(u)?c(u,t):c(Object.values(u),t):[]},c=function(n,t){return n.reduce(function(n,e){return n.concat(t(e))},[])};function o(t){var e;return(e={})[n]=function(){return{match:function(n){var e={},r=function(n,t){e[n]=t};return void 0===n?(i(t).forEach(function(n){return r(n,void 0)}),{matched:!0,selections:e}):{matched:u(t,n,r),selections:e}},getSelectionKeys:function(){return i(t)},matcherType:\"optional\"}},e}function a(t){var e;return(e={})[n]=function(){return{match:function(n){if(!Array.isArray(n))return{matched:!1};var e={};if(0===n.length)return i(t).forEach(function(n){e[n]=[]}),{matched:!0,selections:e};var r=function(n,t){e[n]=(e[n]||[]).concat([t])};return{matched:n.every(function(n){return u(t,n,r)}),selections:e}},getSelectionKeys:function(){return i(t)}}},e}function f(){var t,e=[].slice.call(arguments);return(t={})[n]=function(){return{match:function(n){var t={},r=function(n,e){t[n]=e};return{matched:e.every(function(t){return u(t,n,r)}),selections:t}},getSelectionKeys:function(){return c(e,i)},matcherType:\"and\"}},t}function s(){var t,e=[].slice.call(arguments);return(t={})[n]=function(){return{match:function(n){var t={},r=function(n,e){t[n]=e};return c(e,i).forEach(function(n){return r(n,void 0)}),{matched:e.some(function(t){return u(t,n,r)}),selections:t}},getSelectionKeys:function(){return c(e,i)},matcherType:\"or\"}},t}function l(t){var e;return(e={})[n]=function(){return{match:function(n){return{matched:!u(t,n,function(){})}},getSelectionKeys:function(){return[]},matcherType:\"not\"}},e}function h(t){var e;return(e={})[n]=function(){return{match:function(n){return{matched:Boolean(t(n))}}}},e}function v(){var e,r=[].slice.call(arguments),c=\"string\"==typeof r[0]?r[0]:void 0,o=2===r.length?r[1]:\"string\"==typeof r[0]?void 0:r[0];return(e={})[n]=function(){return{match:function(n){var e,r=((e={})[null!=c?c:t]=n,e);return{matched:void 0===o||u(o,n,function(n,t){r[n]=t}),selections:r}},getSelectionKeys:function(){return[null!=c?c:t].concat(void 0===o?[]:i(o))}}},e}var y=h(function(n){return!0}),m=y,d=h(function(n){return\"string\"==typeof n}),g=h(function(n){return\"number\"==typeof n}),p=h(function(n){return\"boolean\"==typeof n}),b=h(function(n){return\"bigint\"==typeof n}),w=h(function(n){return\"symbol\"==typeof n}),A=h(function(n){return null==n}),S={__proto__:null,optional:o,array:a,intersection:f,union:s,not:l,when:h,select:v,any:y,_:m,string:d,number:g,boolean:p,bigint:b,symbol:w,nullish:A,instanceOf:function(n){return h(function(n){return function(t){return t instanceof n}}(n))},typed:function(){return{array:a,optional:o,intersection:f,union:s,not:l,select:v,when:h}}};function K(n){return new O(n,[])}var O=/*#__PURE__*/function(){function n(n,t){this.value=void 0,this.cases=void 0,this.value=n,this.cases=t}var e=n.prototype;return e.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],i=[e[0]],c=[];return 3===e.length&&\"function\"==typeof e[1]?(i.push(e[0]),c.push(e[1])):e.length>2&&i.push.apply(i,e.slice(1,e.length-1)),new n(this.value,this.cases.concat([{match:function(n){var e={},r=Boolean(i.some(function(t){return u(t,n,function(n,t){e[n]=t})})&&c.every(function(t){return t(n)}));return{matched:r,value:r&&Object.keys(e).length?t in e?e[t]:e:n}},handler:r}]))},e.when=function(t,e){return new n(this.value,this.cases.concat([{match:function(n){return{matched:Boolean(t(n)),value:n}},handler:e}]))},e.otherwise=function(t){return new n(this.value,this.cases.concat([{match:function(n){return{matched:!0,value:n}},handler:t}])).run()},e.exhaustive=function(){return this.run()},e.run=function(){for(var n=this.value,t=void 0,e=0;e<this.cases.length;e++){var r=this.cases[e],u=r.match(this.value);if(u.matched){n=u.value,t=r.handler;break}}if(!t){var i;try{i=JSON.stringify(this.value)}catch(n){i=this.value}throw new Error(\"Pattern matching error: no pattern matches value \"+i)}return t(n,this.value)},n}();function j(){var n=[].slice.call(arguments);if(1===n.length){var t=n[0];return function(n){return u(t,n,function(){})}}if(2===n.length)return u(n[0],n[1],function(){});throw new Error(\"isMatching wasn't given the right number of arguments: expected 1 or 2, received \"+n.length+\".\")}export{S as P,S as Pattern,j as isMatching,K as match};\n//# sourceMappingURL=index.js.map\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfSecond\n * @category Second Helpers\n * @summary Return the start of a second for the given date.\n *\n * @description\n * Return the start of a second for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a second\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a second for 1 December 2014 22:15:45.400:\n * const result = startOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.000\n */\nexport default function startOfSecond(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setMilliseconds(0);\n  return date;\n}","import startOfSecond from \"../startOfSecond/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameSecond\n * @category Second Helpers\n * @summary Are the given dates in the same second (and hour and day)?\n *\n * @description\n * Are the given dates in the same second (and hour and day)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same second (and hour and day)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 2014 06:30:15.000 and 4 September 2014 06:30.15.500 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 30, 15),\n *   new Date(2014, 8, 4, 6, 30, 15, 500)\n * )\n * //=> true\n *\n * @example\n * // Are 4 September 2014 06:00:15.000 and 4 September 2014 06:01.15.000 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 0, 15),\n *   new Date(2014, 8, 4, 6, 1, 15)\n * )\n * //=> false\n *\n * @example\n * // Are 4 September 2014 06:00:15.000 and 5 September 2014 06:00.15.000 in the same second?\n * const result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 0, 15),\n *   new Date(2014, 8, 5, 6, 0, 15)\n * )\n * //=> false\n */\nexport default function isSameSecond(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfSecond = startOfSecond(dirtyDateLeft);\n  var dateRightStartOfSecond = startOfSecond(dirtyDateRight);\n  return dateLeftStartOfSecond.getTime() === dateRightStartOfSecond.getTime();\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}