{"ast":null,"code":"import React__default, { useRef, useState, useCallback } from 'react';\nimport { C as ContextMenu, b as MenuItems } from '../chunks/bundle-CwKZj-B6.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-DhKQeIfP.js';\nimport UserProfile from './UserProfile.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { c as classnames } from '../chunks/bundle-BgwzpLeQ.js';\nimport '../chunks/bundle-BQi9-O76.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-etuaqevl.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport '../chunks/bundle-DxTN4_0p.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CNWAfTVw.js';\nimport '../chunks/bundle-CA85nVxp.js';\nimport '../chunks/bundle-cQZ3UZoG.js';\nimport '../chunks/bundle-Bwk5KPwK.js';\nimport '../chunks/bundle-bdDHjHH6.js';\nimport '../chunks/bundle-BrTJ5Zbd.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-b6TpX_JP.js';\nimport '../chunks/bundle-CFosTNce.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DXRRGizV.js';\nimport './Icon.js';\nimport './Button.js';\nfunction MentionLabel(props) {\n  var _a, _b, _c;\n  var mentionTemplate = props.mentionTemplate,\n    mentionedUserId = props.mentionedUserId,\n    mentionedUserNickname = props.mentionedUserNickname,\n    isByMe = props.isByMe;\n  var mentionRef = useRef();\n  var sendbirdState = useSendbirdStateContext();\n  var userId = (_a = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.config) === null || _a === void 0 ? void 0 : _a.userId;\n  var sdk = (_c = (_b = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n  var amIBeingMentioned = userId === mentionedUserId;\n  var _d = useState(),\n    user = _d[0],\n    setUser = _d[1];\n  var fetchUser = useCallback(function (toggleDropdown) {\n    if (user || !(sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery)) {\n      toggleDropdown();\n      return;\n    }\n    var query = sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery({\n      userIdsFilter: [mentionedUserId]\n    });\n    query.next().then(function (members) {\n      if ((members === null || members === void 0 ? void 0 : members.length) > 0) {\n        setUser(members[0]);\n      }\n      toggleDropdown();\n    });\n  }, [sdk, mentionedUserId]);\n  return React__default.createElement(ContextMenu, {\n    menuTrigger: function (toggleDropdown) {\n      return React__default.createElement(\"a\", {\n        className: classnames('sendbird-word__mention', amIBeingMentioned && 'sendbird-word__mention--me'),\n        onClick: function () {\n          return fetchUser(toggleDropdown);\n        },\n        ref: mentionRef,\n        \"data-userid\": mentionedUserId,\n        \"data-nickname\": mentionedUserNickname,\n        \"data-sb-mention\": true\n      }, React__default.createElement(Label, {\n        type: LabelTypography.CAPTION_1,\n        color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1\n      }, \"\".concat(mentionTemplate).concat(mentionedUserNickname)));\n    },\n    menuItems: function (closeDropdown) {\n      return React__default.createElement(MenuItems\n      /**\n      * parentRef: For catching location(x, y) of MenuItems\n      * parentContainRef: For toggling more options(menus & reactions)\n      */, {\n        /**\n        * parentRef: For catching location(x, y) of MenuItems\n        * parentContainRef: For toggling more options(menus & reactions)\n        */\n        parentRef: mentionRef,\n        parentContainRef: mentionRef,\n        closeDropdown: closeDropdown,\n        style: {\n          paddingTop: '0px',\n          paddingBottom: '0px'\n        }\n      }, React__default.createElement(UserProfile, {\n        user: user,\n        onSuccess: closeDropdown,\n        currentUserId: userId\n      }));\n    }\n  });\n}\nexport { MentionLabel as default };","map":{"version":3,"names":[],"sources":[],"sourcesContent":["import React__default, { useRef, useState, useCallback } from 'react';\nimport { C as ContextMenu, b as MenuItems } from '../chunks/bundle-CwKZj-B6.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-DhKQeIfP.js';\nimport UserProfile from './UserProfile.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { c as classnames } from '../chunks/bundle-BgwzpLeQ.js';\nimport '../chunks/bundle-BQi9-O76.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-etuaqevl.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport '../chunks/bundle-DxTN4_0p.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CNWAfTVw.js';\nimport '../chunks/bundle-CA85nVxp.js';\nimport '../chunks/bundle-cQZ3UZoG.js';\nimport '../chunks/bundle-Bwk5KPwK.js';\nimport '../chunks/bundle-bdDHjHH6.js';\nimport '../chunks/bundle-BrTJ5Zbd.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-b6TpX_JP.js';\nimport '../chunks/bundle-CFosTNce.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DXRRGizV.js';\nimport './Icon.js';\nimport './Button.js';\n\nfunction MentionLabel(props) {\n    var _a, _b, _c;\n    var mentionTemplate = props.mentionTemplate, mentionedUserId = props.mentionedUserId, mentionedUserNickname = props.mentionedUserNickname, isByMe = props.isByMe;\n    var mentionRef = useRef();\n    var sendbirdState = useSendbirdStateContext();\n    var userId = (_a = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var sdk = (_c = (_b = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var amIBeingMentioned = userId === mentionedUserId;\n    var _d = useState(), user = _d[0], setUser = _d[1];\n    var fetchUser = useCallback(function (toggleDropdown) {\n        if (user || !(sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery)) {\n            toggleDropdown();\n            return;\n        }\n        var query = sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery({\n            userIdsFilter: [mentionedUserId],\n        });\n        query.next().then(function (members) {\n            if ((members === null || members === void 0 ? void 0 : members.length) > 0) {\n                setUser(members[0]);\n            }\n            toggleDropdown();\n        });\n    }, [sdk, mentionedUserId]);\n    return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(\"a\", { className: classnames('sendbird-word__mention', amIBeingMentioned && 'sendbird-word__mention--me'), onClick: function () { return fetchUser(toggleDropdown); }, ref: mentionRef, \"data-userid\": mentionedUserId, \"data-nickname\": mentionedUserNickname, \"data-sb-mention\": true },\n            React__default.createElement(Label, { type: LabelTypography.CAPTION_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, \"\".concat(mentionTemplate).concat(mentionedUserNickname)))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems\n        /**\n        * parentRef: For catching location(x, y) of MenuItems\n        * parentContainRef: For toggling more options(menus & reactions)\n        */\n        , { \n            /**\n            * parentRef: For catching location(x, y) of MenuItems\n            * parentContainRef: For toggling more options(menus & reactions)\n            */\n            parentRef: mentionRef, parentContainRef: mentionRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n            React__default.createElement(UserProfile, { user: user, onSuccess: closeDropdown, currentUserId: userId }))); } }));\n}\n\nexport { MentionLabel as default };\n//# sourceMappingURL=MentionLabel.js.map\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module"}