(this.webpackJsonpebgbot=this.webpackJsonpebgbot||[]).push([[0],{16:function(e,t,s){},18:function(e,t,s){},20:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(3),i=s.n(a),r=(s(16),s(8)),o=(s(17),s(18),s(5));var l=function(e){let{channelUrl:t}=e;const[s,c]=Object(n.useState)(""),[a,i]=Object(n.useState)(""),[r,l]=Object(n.useState)([]);return Object(n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("messages"))||[];l(e)}),[]),Object(o.jsxs)("div",{className:"chat-container",children:[Object(o.jsx)("div",{className:"messages",children:r.map(((e,t)=>Object(o.jsxs)("div",{children:[Object(o.jsx)("strong",{children:"\uc9c8\ubb38:"})," ",e.question,Object(o.jsx)("br",{}),Object(o.jsx)("strong",{children:"\uc751\ub2f5:"})," ",e.response]},t)))}),Object(o.jsxs)("div",{className:"chat-input",children:[Object(o.jsx)("input",{type:"text",placeholder:"\uc9c8\ubb38\uc744 \uc785\ub825\ud558\uc138\uc694...",value:s,onChange:e=>c(e.target.value)}),Object(o.jsx)("button",{onClick:async()=>{if(""===s.trim()||!t)return;const e=await fetch("https://api-255A6E1D-2863-492B-AEAC-C7351A429D95.sendbird.com/v3/group_channels/".concat(t,"/messages"),{method:"POST",headers:{"Content-Type":"application/json","Api-Token":"14808b2c48020361fef4a425b64a5312d942f07b"},body:JSON.stringify({message_type:"MESG",user_id:"guest_user",message:s})}),n=await e.json(),a=[...r,{question:s,response:n.message}];l(a),localStorage.setItem("messages",JSON.stringify(a)),i(n.message),c("")},children:"\uc804\uc1a1"})]})]})};s(20);var j=function(e){let{user:t,closeModal:s,setUser:c}=e;const[a,i]=Object(n.useState)(t.nickname),[r,l]=Object(n.useState)(t.profileUrl);return Object(o.jsx)("div",{className:"modal",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h2",{children:"\ud504\ub85c\ud544 \uc218\uc815"}),Object(o.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"\ub2c9\ub124\uc784"}),Object(o.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 URL"}),Object(o.jsx)("button",{onClick:async()=>{const e=await(async(e,t,s)=>{const n=await fetch("https://api-255A6E1D-2863-492B-AEAC-C7351A429D95.sendbird.com/v3/users/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json","Api-Token":"14808b2c48020361fef4a425b64a5312d942f07b"},body:JSON.stringify({nickname:t,profile_url:s})});return await n.json()})(t.userId,a,r);c(e),s()},children:"\uc800\uc7a5"}),Object(o.jsx)("button",{onClick:s,children:"\ucde8\uc18c"})]})})};var d=function(){const[e,t]=Object(n.useState)({userId:"guest_user",nickname:"Guest",profileUrl:""}),[s,c]=Object(n.useState)(""),[a,i]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{(async()=>{const e=await(async()=>{const e=await fetch("https://api-255A6E1D-2863-492B-AEAC-C7351A429D95.sendbird.com/v3/group_channels",{method:"POST",headers:{"Content-Type":"application/json","Api-Token":"14808b2c48020361fef4a425b64a5312d942f07b"},body:JSON.stringify({name:"EBG \uc9c0\uc2dd\ub3c4\uc6b0\ubbf8",user_ids:["guest_user"]})});return(await e.json()).channel_url})();c(e)})()}),[]),Object(o.jsx)(r.c,{appId:"255A6E1D-2863-492B-AEAC-C7351A429D95",userId:e.userId,nickname:e.nickname,children:Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)("div",{className:"left-panel",children:Object(o.jsx)(r.b,{})}),Object(o.jsxs)("div",{className:"right-panel",children:[Object(o.jsx)("div",{className:"sendbird-ui-header__middle",onClick:()=>i(!0),children:e.nickname}),s&&Object(o.jsx)(r.a,{channelUrl:s}),Object(o.jsx)(l,{channelUrl:s})]}),a&&Object(o.jsx)(j,{user:e,closeModal:()=>i(!1),setUser:t})]})})};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.d06a9d69.chunk.js.map